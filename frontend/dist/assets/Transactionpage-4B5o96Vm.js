import{j as e,a as y}from"./react-core-0npe00lJ.js";import{L as j,M as u,N as b,O as N,f as o}from"./react-icons-B--SyvS1.js";import{b as g}from"./react-query-BvwtvcJK.js";import{q as f}from"./index-HjQGXCX9.js";import"./vendor-CGKUqG9W.js";import"./react-dom-CdyVvfHO.js";import"./ui-libs-CuSWTeap.js";import"./react-router-lgh_Y1WM.js";import"./zustand-Ccm-5Iud.js";import"./axios-B9ygI19o.js";const v=async()=>(await f.get("/transactions")).data,w=()=>g({queryKey:["transactions"],queryFn:v}),T=({transaction:s})=>{const t=s.splits?.[0],n=parseFloat(s.totalAmount||"0"),i=n>=0,l=new Date(s.latestPostedDate||s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),m=new Intl.NumberFormat("en-US",{style:"currency",currency:s.currency?.toUpperCase()||"USD"}).format(Math.abs(n)),r=t?.senderDescription||t?.recipientDescription||s.itemType||"N/A";return e.jsxs("tr",{className:"transaction-table-row",children:[e.jsx("td",{className:"transaction-table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm font-medium text-primary",children:l})]})}),e.jsx("td",{className:"transaction-table-cell",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-primary",children:r}),t?.categoryAndGifi?.[0]?.displayLabel&&e.jsx("span",{className:"text-xs text-primary-50",children:t.categoryAndGifi[0].displayLabel})]})}),e.jsx("td",{className:"transaction-table-cell",children:e.jsx("span",{className:"text-xs text-primary-50 bg-primary-10 px-2 py-1 rounded",children:s.itemType||"N/A"})}),e.jsx("td",{className:"transaction-table-cell",children:e.jsxs("div",{className:`flex items-center gap-1 font-semibold ${i?"text-green-600":"text-red-600"}`,children:[i?e.jsx(j,{className:"w-3 h-3"}):e.jsx(u,{className:"w-3 h-3"}),e.jsxs("span",{children:[i?"+":"-",m]})]})}),e.jsx("td",{className:"transaction-table-cell",children:e.jsx("span",{className:"text-sm text-primary-75",children:new Intl.NumberFormat("en-US",{style:"currency",currency:s.currency?.toUpperCase()||"USD"}).format(0)})}),e.jsx("td",{className:"transaction-table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.pending&&e.jsx("span",{className:"text-xs text-primary-50 bg-primary-10 px-2 py-1 rounded",children:"Pending"}),t?.pendingTransfer&&e.jsx("span",{className:"text-xs text-primary-50 bg-primary-10 px-2 py-1 rounded",children:"Transfer"}),s.matchedReceiptDocs&&s.matchedReceiptDocs.length>0&&e.jsx("span",{className:"text-xs text-primary-50 bg-primary-10 px-2 py-1 rounded",children:"Receipt"})]})}),e.jsx("td",{className:"transaction-table-cell",children:e.jsx("button",{className:"text-primary hover:text-primary-75 text-sm font-medium",children:"View"})})]})},D=()=>{const{data:s,isLoading:t,isError:n,error:i}=w(),[l,m]=y.useState("");if(t)return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-primary-25 border-t-primary rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-primary-50",children:"Loading transactions..."})]})});if(n)return e.jsx("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-red-700 font-medium",children:["Error: ",i?.message||"Failed to load transactions"]})});const r=s?.filter(a=>{if(!l)return!0;const c=l.toLowerCase(),d=a.splits?.[0],x=d?.senderDescription?.toLowerCase()||d?.recipientDescription?.toLowerCase()||"",p=d?.categoryAndGifi?.[0]?.displayLabel?.toLowerCase()||d?.categoryAndGifi?.[0]?.name?.toLowerCase()||"",h=a.itemType?.toLowerCase()||"";return x.includes(c)||p.includes(c)||h.includes(c)||a.totalAmount?.includes(c)});return e.jsxs("div",{className:"bg-white max-h-[calc(100vh-100px)] rounded-xl shadow-sm border border-primary-10 overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b border-primary-10 sticky top-0 bg-white z-10",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-primary-50 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search transactions...",value:l,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary-10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-25 focus:border-primary text-sm"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-primary-10 rounded-lg hover:bg-primary-10 transition-colors text-sm font-medium text-primary",children:[e.jsx(N,{className:"w-4 h-4"}),"Filter"]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-primary-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"transaction-table-header",children:"Date"}),e.jsx("th",{className:"transaction-table-header",children:"Description"}),e.jsx("th",{className:"transaction-table-header",children:"Type"}),e.jsx("th",{className:"transaction-table-header",children:"Amount"}),e.jsx("th",{className:"transaction-table-header",children:"Balance"}),e.jsx("th",{className:"transaction-table-header",children:"Tags"}),e.jsx("th",{className:"transaction-table-header",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-primary-10",children:r&&r.length>0?r.map(a=>e.jsx(T,{transaction:a},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center py-12 text-primary-50",children:l?"No transactions found matching your search":"No transactions available"})})})]})}),r&&r.length>0&&e.jsx("div",{className:"p-4 border-t border-primary-10 bg-primary-10",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-primary-75",children:[e.jsxs("span",{children:["Showing ",r.length," of"," ",s?.length||0," transactions"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded hover:bg-primary-25 transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded hover:bg-primary-25 transition-colors",children:"Next"})]})]})})]})},R=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:e.jsx(o,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-primary-50 uppercase",children:"Total Income"}),e.jsx("p",{className:"text-lg font-bold text-primary",children:"$0.00"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(o,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-primary-50 uppercase",children:"Total Expenses"}),e.jsx("p",{className:"text-lg font-bold text-primary",children:"$0.00"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-10 flex items-center justify-center",children:e.jsx(o,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-primary-50 uppercase",children:"This Month"}),e.jsx("p",{className:"text-lg font-bold text-primary",children:"$0.00"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-10 flex items-center justify-center",children:e.jsx(o,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-primary-50 uppercase",children:"Total Count"}),e.jsx("p",{className:"text-lg font-bold text-primary",children:"0"})]})]})})]}),e.jsx(D,{})]});export{R as default};
