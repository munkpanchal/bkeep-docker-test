import{a as d,j as e}from"./react-core-0npe00lJ.js";import{F as U,p as B,N as L,v as F,W as R,h as q,O as Q,$ as z,D as G,G as K,f as _,a0 as W,V as H}from"./react-icons-B--SyvS1.js";import{B as J}from"./index-HjQGXCX9.js";import{I as X}from"./InputFields-CMQHEwPH.js";import"./react-dom-CdyVvfHO.js";import"./vendor-CGKUqG9W.js";import"./react-query-BvwtvcJK.js";import"./ui-libs-CuSWTeap.js";import"./react-router-lgh_Y1WM.js";import"./zustand-Ccm-5Iud.js";import"./axios-B9ygI19o.js";const Y=[{id:"1",name:"Acme Corporation",email:"contact@acme.com",address:"123 Business St, City, State 12345"},{id:"2",name:"Blue Ocean Enterprises",email:"info@blueocean.com",address:"456 Commerce Ave, City, State 67890"},{id:"3",name:"Cyberdyne Systems",email:"hello@cyberdyne.com"},{id:"4",name:"Delta Dynamics",email:"contact@delta.com"},{id:"5",name:"Emerald Innovations",email:"info@emerald.com"},{id:"6",name:"Firefly Technologies",email:"hello@firefly.com"},{id:"7",name:"Galactic Industries",email:"contact@galactic.com"}],Z=({isOpen:h,onClose:x,onSaveDraft:f,onSendInvoice:y})=>{const[r,o]=d.useState({name:"Excel Studio Inc.",address:"1401 Rockland Ave",city:"Victoria, BC",country:"Canada",postalCode:"V8S 1V9",email:"ar@excel.studio"}),[t,i]=d.useState({invoiceNumber:"INV-"+Math.floor(Math.random()*1e4),customer:null,issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],paymentMethods:{interacTransfer:!1,eftTransfer:!1},isRecurring:!1,ccEmail:"",memo:"",notes:"Thank you for your business!",lineItems:[],subtotal:0,taxRate:13,discount:0,discountType:"percentage"}),[p,u]=d.useState(!1),[N,a]=d.useState(""),[l,j]=d.useState("details"),g=d.useRef(null),k=Y.filter(s=>s.name.toLowerCase().includes(N.toLowerCase())),w=t.lineItems.reduce((s,n)=>s+n.qty*n.price,0),T=t.discountType==="percentage"?w*t.discount/100:t.discount,A=w-T,E=A*t.taxRate/100,C=A+E;if(d.useEffect(()=>{const s=c=>{c.key==="Escape"&&(p?u(!1):x())},n=c=>{g.current&&!g.current.contains(c.target)&&u(!1)};return h&&(document.addEventListener("keydown",s),document.addEventListener("mousedown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.removeEventListener("mousedown",n),document.body.style.overflow="unset"}},[h,x,p]),!h)return null;const M=s=>{i({...t,customer:s}),u(!1),a("")},V=()=>{console.log("Add new customer"),u(!1)},$=()=>{const s={id:Date.now().toString(),description:"",qty:1,price:0,tax:0};i({...t,lineItems:[...t.lineItems,s]})},I=(s,n,c)=>{i({...t,lineItems:t.lineItems.map(S=>S.id===s?{...S,[n]:c}:S)})},O=s=>{i({...t,lineItems:t.lineItems.filter(n=>n.id!==s)})},P=s=>{const n=s.target.files?.[0];if(n){const c=new FileReader;c.onloadend=()=>{o({...r,logo:c.result})},c.readAsDataURL(n)}},v=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),m=s=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(s);return e.jsxs("div",{className:"absolute inset-0 z-40 bg-lightBg flex flex-col rounded-2xl overflow-hidden",children:[e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-primary-10 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:x,className:"p-2 hover:bg-primary-10 rounded-full transition-colors","aria-label":"Close",children:e.jsx(U,{className:"w-4 h-4 text-primary"})}),e.jsx("h1",{className:"text-lg font-semibold text-primary",children:"Create invoice"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>f?.(t),className:"px-4 py-2 text-sm font-medium text-primary hover:text-primary-75 transition-colors",children:"Save as draft"}),e.jsx("button",{onClick:()=>y?.(t),disabled:!t.customer||t.lineItems.length===0,className:"px-4 py-2 text-sm font-medium bg-primary-10 text-primary-50 rounded-xl cursor-not-allowed disabled:opacity-50 enabled:bg-primary enabled:text-white enabled:cursor-pointer enabled:hover:bg-primary-75 transition-colors",children:"Send invoice"})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-full md:w-[480px] border-r border-primary-10 overflow-y-auto bg-white flex flex-col",children:[e.jsxs("div",{className:"flex border-b border-primary-10",children:[e.jsx("button",{onClick:()=>j("details"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${l==="details"?"text-primary border-b-2 border-primary":"text-primary-50 hover:text-primary"}`,children:"Details"}),e.jsx("button",{onClick:()=>j("items"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${l==="items"?"text-primary border-b-2 border-primary":"text-primary-50 hover:text-primary"}`,children:"Items"}),e.jsx("button",{onClick:()=>j("settings"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${l==="settings"?"text-primary border-b-2 border-primary":"text-primary-50 hover:text-primary"}`,children:"Settings"})]}),e.jsxs("div",{className:"flex-1 p-6",children:[l==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Invoice Number"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"text",value:t.invoiceNumber,onChange:s=>i({...t,invoiceNumber:s.target.value}),className:"input px-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Issue Date"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"date",value:t.issueDate,onChange:s=>i({...t,issueDate:s.target.value}),className:"input px-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Due Date"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"date",value:t.dueDate,onChange:s=>i({...t,dueDate:s.target.value}),className:"input px-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Customer"}),e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("div",{onClick:()=>u(!p),className:"input-wrap flex items-center justify-between px-4 py-2 cursor-pointer",children:[e.jsx("span",{className:t.customer?"text-primary text-sm":"text-primary-50 text-sm",children:t.customer?.name||"Find or add a customer..."}),e.jsx(B,{className:`w-3 h-3 text-primary-50 transition-transform ${p?"rotate-180":""}`})]}),p&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-primary-10 rounded-xl shadow-lg z-10 max-h-80 overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-primary-10",children:e.jsxs("div",{className:"input-wrap flex items-center gap-2 px-3",children:[e.jsx(L,{className:"w-3 h-3 text-primary-50"}),e.jsx("input",{type:"text",value:N,onChange:s=>a(s.target.value),placeholder:"Find or add a customer...",className:"input",autoFocus:!0})]})}),e.jsxs("button",{onClick:V,className:"w-full flex items-center gap-2 px-4 py-3 text-left hover:bg-primary-10 transition-colors border-b border-primary-10",children:[e.jsx(F,{className:"w-3 h-3 text-primary"}),e.jsx("span",{className:"text-sm font-medium text-primary",children:"Add customer"})]}),e.jsxs("div",{className:"max-h-52 overflow-y-auto",children:[k.map(s=>e.jsxs("button",{onClick:()=>M(s),className:`w-full px-4 py-3 text-left text-sm hover:bg-primary-10 transition-colors ${t.customer?.id===s.id?"bg-primary-10 text-primary font-medium":"text-primary-75"}`,children:[e.jsx("div",{children:s.name}),s.email&&e.jsx("div",{className:"text-xs text-primary-50 mt-1",children:s.email})]},s.id)),k.length===0&&e.jsx("div",{className:"px-4 py-3 text-sm text-primary-50",children:"No customers found"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Payment collection methods"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.paymentMethods.interacTransfer,onChange:s=>i({...t,paymentMethods:{...t.paymentMethods,interacTransfer:s.target.checked}}),className:"w-4 h-4 rounded border-primary-25 text-primary focus:ring-primary accent-primary"}),e.jsx("span",{className:"text-sm text-primary-75",children:"Interac e-transfer"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.paymentMethods.eftTransfer,onChange:s=>i({...t,paymentMethods:{...t.paymentMethods,eftTransfer:s.target.checked}}),className:"w-4 h-4 rounded border-primary-25 text-primary focus:ring-primary accent-primary"}),e.jsx("span",{className:"text-sm text-primary-75",children:"EFT transfer"})]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"input-label mb-0!",children:"Recurring invoice"}),e.jsx("button",{onClick:()=>i({...t,isRecurring:!t.isRecurring}),className:`relative w-10 h-5 rounded-full transition-colors ${t.isRecurring?"bg-primary":"bg-primary-25"}`,children:e.jsx("span",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${t.isRecurring?"translate-x-5":"translate-x-0"}`})})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"CC email (optional)"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"email",value:t.ccEmail,onChange:s=>i({...t,ccEmail:s.target.value}),placeholder:"email@example.com",className:"input px-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Memo (optional)"}),e.jsx("div",{className:"input-wrap",children:e.jsx("textarea",{value:t.memo,onChange:s=>i({...t,memo:s.target.value}),rows:2,placeholder:"Internal notes...",className:"input px-4 resize-none"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Notes (shown on invoice)"}),e.jsx("div",{className:"input-wrap",children:e.jsx("textarea",{value:t.notes,onChange:s=>i({...t,notes:s.target.value}),rows:3,placeholder:"Thank you for your business!",className:"input px-4 resize-none"})})]})]}),l==="items"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Line Items"}),e.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-primary hover:bg-primary-10 rounded-lg transition-colors",children:[e.jsx(F,{className:"w-3 h-3"}),"Add Item"]})]}),t.lineItems.length===0?e.jsx("div",{className:"text-center py-8 text-primary-50 text-sm",children:'No items added yet. Click "Add Item" to get started.'}):e.jsx("div",{className:"space-y-4",children:t.lineItems.map((s,n)=>e.jsxs("div",{className:"border border-primary-10 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-primary",children:["Item ",n+1]}),e.jsx("button",{onClick:()=>O(s.id),className:"text-red-500 hover:text-red-700 transition-colors",children:e.jsx(R,{className:"w-3 h-3"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Description"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"text",value:s.description,onChange:c=>I(s.id,"description",c.target.value),placeholder:"Item description",className:"input px-4"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Qty"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"number",value:s.qty,onChange:c=>I(s.id,"qty",parseFloat(c.target.value)||0),min:"0",step:"1",className:"input px-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Price"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"number",value:s.price,onChange:c=>I(s.id,"price",parseFloat(c.target.value)||0),min:"0",step:"0.01",className:"input px-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Total"}),e.jsx("div",{className:"text-sm font-medium text-primary pt-2",children:m(s.qty*s.price)})]})]})]},s.id))}),e.jsx("div",{className:"pt-4 border-t border-primary-10 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Tax Rate (%)"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"number",value:t.taxRate,onChange:s=>i({...t,taxRate:parseFloat(s.target.value)||0}),min:"0",step:"0.1",className:"input px-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Discount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"input-wrap flex-1",children:e.jsx("input",{type:"number",value:t.discount,onChange:s=>i({...t,discount:parseFloat(s.target.value)||0}),min:"0",step:"0.01",className:"input px-4"})}),e.jsxs("select",{value:t.discountType,onChange:s=>i({...t,discountType:s.target.value}),className:"px-3 py-2 border border-primary-10 rounded-lg text-sm text-primary focus:outline-none focus:border-primary",children:[e.jsx("option",{value:"percentage",children:"%"}),e.jsx("option",{value:"fixed",children:"$"})]})]})]})]})})]}),l==="settings"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-primary mb-4",children:"Company Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Company Logo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[r.logo&&e.jsx("img",{src:r.logo,alt:"Company Logo",className:"w-16 h-16 object-contain border border-primary-10 rounded-lg"}),e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary hover:bg-primary-10 rounded-lg transition-colors cursor-pointer border border-primary-10",children:[e.jsx(q,{className:"w-3 h-3"}),"Upload Logo",e.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Company Name"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"text",value:r.name,onChange:s=>o({...r,name:s.target.value}),className:"input px-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Address"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"text",value:r.address,onChange:s=>o({...r,address:s.target.value}),className:"input px-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"City"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"text",value:r.city,onChange:s=>o({...r,city:s.target.value}),className:"input px-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Postal Code"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"text",value:r.postalCode,onChange:s=>o({...r,postalCode:s.target.value}),className:"input px-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Country"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"text",value:r.country,onChange:s=>o({...r,country:s.target.value}),className:"input px-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Email"}),e.jsx("div",{className:"input-wrap",children:e.jsx("input",{type:"email",value:r.email,onChange:s=>o({...r,email:s.target.value}),className:"input px-4"})})]})]})]})})]})]}),e.jsx("div",{className:"hidden md:flex flex-1 bg-lightBg items-center justify-center p-8 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-sm border border-primary-10 p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.logo?e.jsx("img",{src:r.logo,alt:"Company Logo",className:"w-16 h-16 object-contain"}):e.jsx("div",{}),e.jsx("h2",{className:"text-3xl font-light text-primary",children:"Invoice"})]}),e.jsx("div",{className:"mb-6 text-sm",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-primary-75 font-medium",children:"Invoice number"}),e.jsx("div",{className:"text-primary-75 mt-1",children:"Issue date"}),e.jsx("div",{className:"text-primary-75",children:"Due date"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-primary",children:t.invoiceNumber}),e.jsx("div",{className:"text-primary mt-1",children:v(t.issueDate)}),e.jsx("div",{className:"text-primary",children:v(t.dueDate)})]})]})}),e.jsxs("div",{className:"flex justify-between mb-8 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-primary",children:r.name}),e.jsx("div",{className:"text-primary-75 mt-1",children:r.address}),e.jsx("div",{className:"text-primary-75",children:r.city}),e.jsx("div",{className:"text-primary-75",children:r.country}),e.jsx("div",{className:"text-primary-75",children:r.postalCode}),e.jsx("div",{className:"text-primary-75",children:r.email})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-primary-75 font-medium",children:"Bill to"}),t.customer&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-primary mt-1",children:t.customer.name}),t.customer.email&&e.jsx("div",{className:"text-primary-75 text-xs mt-1",children:t.customer.email}),t.customer.address&&e.jsx("div",{className:"text-primary-75 text-xs mt-1",children:t.customer.address})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"text-2xl font-medium text-primary",children:[m(C)," due"," ",v(t.dueDate)]})}),e.jsx("div",{className:"border-t border-primary-10 pt-4",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-primary-75",children:[e.jsx("th",{className:"text-left py-2 font-normal",children:"Description"}),e.jsx("th",{className:"text-center py-2 font-normal w-16",children:"Qty"}),e.jsx("th",{className:"text-right py-2 font-normal w-20",children:"Price"}),e.jsx("th",{className:"text-right py-2 font-normal w-20",children:"Amount"})]})}),e.jsxs("tbody",{children:[t.lineItems.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-primary-50",children:"No items added"})}),t.lineItems.map(s=>e.jsxs("tr",{className:"border-t border-primary-10",children:[e.jsx("td",{className:"py-2 text-primary",children:s.description||"Untitled Item"}),e.jsx("td",{className:"text-center py-2 text-primary",children:s.qty}),e.jsx("td",{className:"text-right py-2 text-primary",children:m(s.price)}),e.jsx("td",{className:"text-right py-2 text-primary",children:m(s.qty*s.price)})]},s.id))]})]})}),e.jsxs("div",{className:"border-t border-primary-10 pt-4 mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-primary-75",children:"Subtotal"}),e.jsx("span",{className:"text-primary",children:m(w)})]}),t.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-primary-75",children:["Discount (",t.discountType==="percentage"?`${t.discount}%`:m(t.discount),")"]}),e.jsxs("span",{className:"text-primary",children:["-",m(T)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-primary-75",children:["Tax (",t.taxRate,"%)"]}),e.jsx("span",{className:"text-primary",children:m(E)})]}),e.jsxs("div",{className:"flex justify-between text-sm py-1 border-t border-primary-10 pt-3",children:[e.jsx("span",{className:"font-medium text-primary",children:"Amount due"}),e.jsx("span",{className:"font-medium text-primary",children:m(C)})]})]}),t.notes&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-primary-10",children:[e.jsx("div",{className:"text-xs font-medium text-primary-75 mb-2",children:"Notes:"}),e.jsx("div",{className:"text-xs text-primary-75 whitespace-pre-wrap",children:t.notes})]}),e.jsxs("div",{className:"mt-auto pt-16 text-xs text-primary-50 flex justify-between",children:[e.jsxs("span",{children:["Invoice ",t.invoiceNumber," â€¢"," ",m(C)," due"," ",v(t.dueDate)]}),e.jsx("span",{children:"Page 1 of 1"})]})]})})]})]})},ee=[{id:"1",invoiceNumber:"INV-2024-001",clientName:"Acme Corporation",date:"2024-01-15",dueDate:"2024-02-15",amount:5e3,status:"paid",description:"Monthly accounting services"},{id:"2",invoiceNumber:"INV-2024-002",clientName:"Tech Solutions Inc",date:"2024-01-20",dueDate:"2024-02-20",amount:7500,status:"sent",description:"Q1 Financial reporting"},{id:"3",invoiceNumber:"INV-2024-003",clientName:"Global Enterprises",date:"2024-01-25",dueDate:"2024-02-25",amount:12e3,status:"overdue",description:"Annual audit services"},{id:"4",invoiceNumber:"INV-2024-004",clientName:"Startup Co",date:"2024-02-01",dueDate:"2024-03-01",amount:3e3,status:"draft",description:"Bookkeeping services"}],b=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),D={draft:{label:"Draft",color:"bg-gray-100 text-gray-700",icon:_},sent:{label:"Sent",color:"bg-blue-100 text-blue-700",icon:K},paid:{label:"Paid",color:"bg-green-100 text-green-700",icon:G},overdue:{label:"Overdue",color:"bg-red-100 text-red-700",icon:z}},xe=()=>{const[h]=d.useState(ee),[x,f]=d.useState(""),[y,r]=d.useState("all"),[o,t]=d.useState(!1),i=h.filter(a=>{const l=a.invoiceNumber.toLowerCase().includes(x.toLowerCase())||a.clientName.toLowerCase().includes(x.toLowerCase()),j=y==="all"||a.status===y;return l&&j}),p=i.reduce((a,l)=>a+l.amount,0),u=i.filter(a=>a.status==="paid").reduce((a,l)=>a+l.amount,0),N=i.filter(a=>a.status!=="paid").reduce((a,l)=>a+l.amount,0);return o?e.jsx("div",{className:"relative h-full -m-4",children:e.jsx(Z,{isOpen:o,onClose:()=>t(!1),onSaveDraft:a=>{console.log("Saving draft:",a),t(!1)},onSendInvoice:a=>{console.log("Sending invoice:",a),t(!1)}})}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(J,{onClick:()=>t(!0),children:[e.jsx(F,{className:"w-3 h-3"}),"Create Invoice"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:[e.jsx("div",{className:"text-sm text-primary-50 mb-1",children:"Total Invoices"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:b.format(p)}),e.jsxs("div",{className:"text-xs text-primary-50 mt-1",children:[i.length," invoices"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:[e.jsx("div",{className:"text-sm text-primary-50 mb-1",children:"Paid"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.format(u)}),e.jsxs("div",{className:"text-xs text-primary-50 mt-1",children:[i.filter(a=>a.status==="paid").length," ","invoices"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:[e.jsx("div",{className:"text-sm text-primary-50 mb-1",children:"Pending"}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:b.format(N)}),e.jsxs("div",{className:"text-xs text-primary-50 mt-1",children:[i.filter(a=>a.status!=="paid").length,"invoices"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-primary-50 w-4 h-4"}),e.jsx(X,{id:"search-invoices",placeholder:"Search invoices...",value:x,onChange:a=>f(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"text-primary-50"}),e.jsxs("select",{value:y,onChange:a=>r(a.target.value),className:"px-4 py-2 border border-primary-10 rounded-xl text-sm text-primary focus:outline-none focus:border-primary",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-primary-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-primary",children:"Invoice #"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-primary",children:"Client"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-primary",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-primary",children:"Due Date"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-primary",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-primary",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-primary w-32",children:"Actions"})]})}),e.jsx("tbody",{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-primary-50",children:"No invoices found"})}):i.map(a=>{const l=D[a.status].icon;return e.jsxs("tr",{className:"border-b border-primary-10 hover:bg-primary-5",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"font-medium text-primary",children:a.invoiceNumber})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"text-primary",children:a.clientName})}),e.jsx("td",{className:"px-4 py-3 text-primary-75",children:new Date(a.date).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-primary-75",children:new Date(a.dueDate).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold text-primary",children:b.format(a.amount)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${D[a.status].color}`,children:[e.jsx(l,{className:"w-3 h-3"}),D[a.status].label]})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{className:"p-2 text-primary-50 hover:text-primary hover:bg-primary-10 rounded transition-colors",title:"View",children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-primary-50 hover:text-primary hover:bg-primary-10 rounded transition-colors",title:"Edit",children:e.jsx(H,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:e.jsx(R,{className:"w-4 h-4"})})]})})]},a.id)})})]})})})]})};export{xe as default};
