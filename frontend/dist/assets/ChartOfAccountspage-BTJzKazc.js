import{a,j as e}from"./react-core-0npe00lJ.js";import{N as C,O as S,p as E,U as F,V as L,W as k}from"./react-icons-B--SyvS1.js";import{B as y}from"./index-HjQGXCX9.js";import{I as l}from"./InputFields-CMQHEwPH.js";import"./react-dom-CdyVvfHO.js";import"./vendor-CGKUqG9W.js";import"./react-query-BvwtvcJK.js";import"./ui-libs-CuSWTeap.js";import"./react-router-lgh_Y1WM.js";import"./zustand-Ccm-5Iud.js";import"./axios-B9ygI19o.js";const u=["Assets","Liabilities","Equity","Income","Expenses"],T=[{id:"1",name:"Assets",type:"Assets",category:"Parent",balance:125e3,subAccounts:[{id:"1-1",name:"Current Assets",type:"Assets",category:"Current Assets",balance:75e3,subAccounts:[{id:"1-1-1",name:"Checking Account",type:"Assets",category:"Bank",balance:45e3},{id:"1-1-2",name:"Savings Account",type:"Assets",category:"Bank",balance:3e4}]},{id:"1-2",name:"Fixed Assets",type:"Assets",category:"Fixed Assets",balance:5e4,subAccounts:[{id:"1-2-1",name:"Equipment",type:"Assets",category:"Fixed Assets",balance:35e3},{id:"1-2-2",name:"Vehicles",type:"Assets",category:"Fixed Assets",balance:15e3}]}]},{id:"2",name:"Liabilities",type:"Liabilities",category:"Parent",balance:45e3,subAccounts:[{id:"2-1",name:"Current Liabilities",type:"Liabilities",category:"Current Liabilities",balance:3e4,subAccounts:[{id:"2-1-1",name:"Accounts Payable",type:"Liabilities",category:"Accounts Payable",balance:2e4},{id:"2-1-2",name:"Credit Cards",type:"Liabilities",category:"Credit Cards",balance:1e4}]}]},{id:"3",name:"Equity",type:"Equity",category:"Equity",balance:8e4},{id:"4",name:"Income",type:"Income",category:"Income",balance:15e4,subAccounts:[{id:"4-1",name:"Service Revenue",type:"Income",category:"Service",balance:12e4},{id:"4-2",name:"Product Sales",type:"Income",category:"Sales",balance:3e4}]},{id:"5",name:"Expenses",type:"Expenses",category:"Parent",balance:95e3,subAccounts:[{id:"5-1",name:"Operating Expenses",type:"Expenses",category:"Operating",balance:7e4,subAccounts:[{id:"5-1-1",name:"Rent",type:"Expenses",category:"Rent",balance:12e3},{id:"5-1-2",name:"Utilities",type:"Expenses",category:"Utilities",balance:5e3},{id:"5-1-3",name:"Salaries",type:"Expenses",category:"Payroll",balance:53e3}]},{id:"5-2",name:"Cost of Goods Sold",type:"Expenses",category:"COGS",balance:25e3}]}],O=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),V=()=>{const[h]=a.useState(T),[i,b]=a.useState(""),[n,j]=a.useState("All"),[o,g]=a.useState(new Set),[f,A]=a.useState(!1),[c,d]=a.useState(null),N=s=>{const t=new Set(o);t.has(s)?t.delete(s):t.add(s),g(t)},m=h.filter(s=>{const t=s.name.toLowerCase().includes(i.toLowerCase())||s.category.toLowerCase().includes(i.toLowerCase()),r=n==="All"||s.type===n;return t&&r}),x=(s,t=0)=>{const r=s.subAccounts&&s.subAccounts.length>0,p=o.has(s.id),v=t*24;return e.jsxs("div",{children:[e.jsx("div",{className:`flex items-center gap-3 p-3 hover:bg-primary-10 border-b border-primary-10 ${t===0?"bg-white":""}`,style:{paddingLeft:`${12+v}px`},children:e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r?e.jsx("button",{onClick:()=>N(s.id),className:"text-primary-50 hover:text-primary transition-colors",children:p?e.jsx(E,{className:"w-3 h-3"}):e.jsx(F,{className:"w-3 h-3"})}):e.jsx("div",{className:"w-5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-primary",children:s.name}),e.jsx("div",{className:"text-xs text-primary-50",children:s.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-primary",children:O.format(s.balance)}),e.jsx("div",{className:"text-xs text-primary-50",children:s.type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(s),className:"p-2 text-primary-50 hover:text-primary hover:bg-primary-10 rounded transition-colors",title:"Edit",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{confirm(`Are you sure you want to delete ${s.name}?`)},className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:e.jsx(k,{className:"w-4 h-4"})})]})]})}),r&&p&&e.jsx("div",{children:s.subAccounts?.map(w=>x(w,t+1))})]},s.id)};return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative",children:e.jsx(l,{id:"search-accounts",placeholder:"Search accounts...",value:i,onChange:s=>b(s.target.value),icon:e.jsx(C,{})})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"text-primary-50"}),e.jsxs("select",{value:n,onChange:s=>j(s.target.value),className:"px-4 py-2 border border-primary-10 rounded-xl text-sm text-primary focus:outline-none focus:border-primary",children:[e.jsx("option",{value:"All",children:"All Types"}),u.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-primary-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-primary",children:"Account Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-primary",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-primary",children:"Balance"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-primary w-24",children:"Actions"})]})}),e.jsx("tbody",{children:m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-primary-50",children:"No accounts found"})}):m.map(s=>e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-0",children:x(s)})},s.id))})]})})}),(f||c)&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-semibold text-primary mb-4",children:c?"Edit Account":"New Account"}),e.jsxs("form",{className:"space-y-4",children:[e.jsx(l,{id:"account-name",label:"Account Name",placeholder:"Enter account name",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Account Type"}),e.jsx("select",{className:"w-full px-4 py-2 border border-primary-10 rounded-xl text-sm text-primary focus:outline-none focus:border-primary",children:u.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Category"}),e.jsx(l,{id:"account-category",placeholder:"Enter category",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(y,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{A(!1),d(null)},children:"Cancel"}),e.jsx(y,{type:"submit",variant:"primary",className:"flex-1",children:c?"Update":"Create"})]})]})]})})]})};export{V as default};
