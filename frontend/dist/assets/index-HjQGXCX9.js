const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Homepage-g0gKriRn.js","assets/react-core-0npe00lJ.js","assets/react-router-lgh_Y1WM.js","assets/react-icons-B--SyvS1.js","assets/react-dom-CdyVvfHO.js","assets/vendor-CGKUqG9W.js","assets/react-query-BvwtvcJK.js","assets/ui-libs-CuSWTeap.js","assets/zustand-Ccm-5Iud.js","assets/axios-B9ygI19o.js","assets/Homepage-Bkz0muKD.css","assets/Loginpage-Ce5LgZEa.js","assets/InputFields-CMQHEwPH.js","assets/PasskeyLoginpage-CwOoxuoY.js","assets/webauthn-BZJNpIWw.js","assets/Registerpage-aHsoBDAR.js","assets/ForgotPasswordpage-CSpUCqJF.js","assets/OtpVerificationpage-D0G-l94F.js","assets/mfaApi-C0--BS-Z.js","assets/ResetPasswordpage-t0IAW9bw.js","assets/AcceptInvitationpage-CxYz97oy.js","assets/Dashboardpage-CZuLGWGQ.js","assets/recharts-Ns8Wy01W.js","assets/ChartWidget-Cl80c2N8.js","assets/SummaryCard-Da2iju6y.js","assets/Transactionpage-4B5o96Vm.js","assets/Reportpage-CydfGwBu.js","assets/IncomeStatementTable-BLfOERjk.js","assets/xlsx-DbZDvBNb.js","assets/IncomeStatementpage-Bn2DiyRo.js","assets/BalanceSheetpage-3POGbJrv.js","assets/ChartOfAccountspage-BTJzKazc.js","assets/Settingspage-gIv8XLxm.js","assets/Invoicepage-BNvKKENA.js","assets/Expensespage-2lhYnk8k.js","assets/Documentspage-CjZF37rA.js","assets/ConfirmationDialog-CVwwzHxz.js","assets/ClientReviewpage-BdyA7CWq.js","assets/JournalEntriespage-da7lXVLw.js","assets/journalApi-BA2jf7VK.js","assets/CreateJournalEntrypage-CzMe2MVQ.js","assets/JournalEntryForm-DRbnYWN8.js","assets/ViewJournalEntrypage-B1m-a9pB.js","assets/EditJournalEntrypage-BpVdbj48.js","assets/SettingsTabWrappers-B1RbHvee.js","assets/DataPrivacyTab-ByB8PE3B.js","assets/RolesTab-Du0FLRH3.js","assets/roleApi-B0i8R29N.js","assets/SecurityTab-BpVtU2_p.js","assets/TenantsTab-B4L8tjMy.js","assets/Chips-3gluTL3o.js","assets/UsersTab-BoqsAOLE.js"])))=>i.map(i=>d[i]);
import{j as t,a as c,R as fe}from"./react-core-0npe00lJ.js";import{c as ye}from"./react-dom-CdyVvfHO.js";import{u as k,a as V,b as F,Q as xe}from"./react-query-BvwtvcJK.js";import{z as Z,F as be}from"./ui-libs-CuSWTeap.js";import{u as C,a as O,L as ee,N as B,O as te,c as we,R as ve}from"./react-router-lgh_Y1WM.js";import{F as Te,a as z,b as je,c as ke,d as Ee,e as Se,f as Ae,g as _e,h as Ne,i as Ie,j as se,k as Pe,l as Ce,m as Le,n as Re,o as W,p as ae,q as ne,r as Fe,s as Oe,t as $e,u as De,v as Me}from"./react-icons-B--SyvS1.js";import{c as re}from"./zustand-Ccm-5Iud.js";import{a as ze}from"./axios-B9ygI19o.js";import{ad as qe}from"./vendor-CGKUqG9W.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();const Ve="modulepreload",Be=function(e){return"/"+e},G={},h=function(s,a,r){let n=Promise.resolve();if(a&&a.length>0){let b=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),d=i?.nonce||i?.getAttribute("nonce");n=b(a.map(f=>{if(f=Be(f),f in G)return;G[f]=!0;const g=f.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${w}`))return;const u=document.createElement("link");if(u.rel=g?"stylesheet":Ve,g||(u.as="script"),u.crossOrigin="",u.href=f,d&&u.setAttribute("nonce",d),document.head.appendChild(u),g)return new Promise((m,y)=>{u.addEventListener("load",m),u.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(i){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=i,window.dispatchEvent(d),!d.defaultPrevented)throw i}return n.then(i=>{for(const d of i||[])d.status==="rejected"&&o(d.reason);return s().catch(o)})},oe="/logo.png",{LOGO_IMAGE:ie}={LOGO_IMAGE:oe},U=()=>t.jsx("div",{className:"loading-overlay",children:t.jsxs("div",{className:"loading-spinner",children:[t.jsx("img",{src:ie,alt:"logo",className:"loading-logo"}),t.jsx("p",{className:"loading-text",children:"Loading..."})]})}),q="tenants",L="selectedTenant",J=typeof window<"u",ce=e=>{if(!J)return null;try{const s=window.localStorage.getItem(e);return s?JSON.parse(s):null}catch(s){return console.warn(`Failed to read ${e} from storage`,s),null}},D=(e,s)=>{if(J)try{window.localStorage.setItem(e,JSON.stringify(s))}catch(a){console.warn(`Failed to write ${e} to storage`,a)}},M=e=>{if(J)try{window.localStorage.removeItem(e)}catch(s){console.warn(`Failed to remove ${e} from storage`,s)}},H=()=>ce(q)||[],Q=()=>ce(L),P=re((e,s)=>({tenants:H(),selectedTenant:Q(),setTenants:(a,r)=>{D(q,a),e({tenants:a});const n=r?.selectTenantId||s().selectedTenant?.id,o=a.find(i=>i.id===n)||a[0]||null;o?(D(L,o),e({selectedTenant:o})):(M(L),e({selectedTenant:null}))},selectTenant:a=>{const r=s().tenants.find(n=>n.id===a);r&&(D(L,r),e({selectedTenant:r}))},hydrateTenant:()=>{const a=H(),r=Q(),n=r&&a.find(o=>o.id===r.id)||a[0]||null;e({tenants:a,selectedTenant:n})},clearTenants:()=>{M(q),M(L),e({tenants:[],selectedTenant:null})}})),$=()=>{const e=P(i=>i.tenants),s=P(i=>i.selectedTenant),a=P(i=>i.setTenants),r=P(i=>i.selectTenant),n=P(i=>i.hydrateTenant),o=P(i=>i.clearTenants);return{tenants:e,selectedTenant:s,setTenants:a,selectTenant:r,hydrateTenant:n,clearTenants:o}},Ue=[{path:"/dashboard",title:"Dashboard",subtitle:"Welcome to your dashboard"},{path:"/transactions",title:"Transactions",subtitle:"View and manage all your financial transactions"},{path:"/reports",title:"Reports",subtitle:"Deep dive into production, collections, and receivables with intelligent filters."},{path:"/reports/income-statement",title:"Income Statement",subtitle:"View your revenue, expenses, and net income"},{path:"/reports/balance-sheet",title:"Balance Sheet",subtitle:"View your assets, liabilities, and equity"},{path:"/chart-of-accounts",title:"Chart of Accounts",subtitle:"Manage your accounts and track balances"},{path:"/settings",title:"Settings",subtitle:"Manage your account settings and preferences"},{path:"/invoices",title:"Invoices",subtitle:"Create and manage your invoices"},{path:"/expenses",title:"Expenses",subtitle:"Track and manage your business expenses"},{path:"/documents",title:"Documents",subtitle:"Upload and manage your documents"},{path:"/client-review",title:"Client Review",subtitle:"Review and categorize transactions that need your input"}],fs=["Wealthro","Finyon","Aegra","Portivio","Vaultic","Altoris","Quantora","Fundara"],ys=[{value:"98.7%",label:"Client retention rate"},{value:"$250M+",label:"Assets managed with BKeep AI"},{value:"120+",label:"Automated strategies live"}],xs=[{value:"98.7%",label:"Client retention rate"},{value:"$250M+",label:"Capital actively managed"},{value:"120+",label:"Automated AI strategies"}],bs=[{title:"Precision-driven portfolio growth",description:"Every allocation is data backed with real-time signals so you can scale faster with conviction.",tag:"Portfolio Intelligence"},{title:"Diversified assets on autopilot",description:"Blend equities, credit, and digital assets with automated rebalancing tuned to your risk profile.",tag:"Adaptive Allocation"},{title:"Insights in milliseconds",description:"Live dashboards track performance, exposure, and cash flow so your next move is always informed.",tag:"Live Analytics"},{title:"Maximize returns with less effort",description:"Let autonomous execution handle the busywork while you stay focused on strategy and relationships.",tag:"Autonomous Execution"}],ws=[{title:"Transparent performance tracking",description:"Monitor every portfolio move with intuitive analytics, benchmark overlays, and exported reports.",metric:"Real-time analytics"},{title:"Seamless asset allocation",description:"Balance across asset classes with guardrails that adapt instantly to market volatility.",metric:"Dynamic allocation"},{title:"Smart risk management",description:"AI scans volatility, liquidity, and macro signals to adjust exposure before risk compounds.",metric:"Adaptive hedging"}],vs=[{title:"AI-powered strategies",description:"Adaptive models trained on millions of market data points deliver institutional-grade precision."},{title:"Real-time insights",description:"See how every desk, entity, or client is performing with streaming analytics you can trust."},{title:"Automated execution",description:"Go from signal to trade without latency thanks to automated approvals and routing."},{title:"Adaptive risk controls",description:"Reduce drawdowns with AI that tightens or widens exposure as volatility shifts."}],Ts=[{name:"Core",price:"$99",cadence:"Billed monthly",description:"Perfect for lean finance teams modernizing client work.",features:["0.4% management fee","AI rebalancing & tracking","Market insights feed","Advisor support"]},{name:"Vision",price:"$2,099",cadence:"Billed monthly",description:"Best for global firms scaling automation at speed.",highlight:"Best value",features:["0.2%–0.4% management fee","Advanced AI strategies","2.75% cash interest","Investment team access","Priority onboarding & support"]}],js=[{quote:"BKeep AI gave us clarity and automation across every treasury workflow. It feels like an institutional desk in a single platform.",name:"Olivia Bennett",role:"Product Manager"},{quote:"I fine-tune portfolio strategies in minutes now. The live analytics and automation easily save hours every week.",name:"Ethan Carter",role:"Wealth Advisor"},{quote:"As a founder, I finally have a treasury dashboard that is just as intuitive as it is intelligent.",name:"Jenna Wallace",role:"Startup Founder"},{quote:"The AI insights helped us balance risk across both traditional and crypto assets without adding headcount.",name:"Marcus Reed",role:"Crypto Analyst"}],ks=[{question:"How is BKeep different from legacy investment tools?",answer:"BKeep combines real-time AI models, automated execution, and transparent analytics so you can adapt instantly. No manual exports or disconnected spreadsheets."},{question:"Is BKeep suitable for new teams or individual investors?",answer:"Yes. We designed the experience to feel approachable for new investors while still offering the controls that institutional teams expect."},{question:"Can I customize strategies and risk preferences?",answer:"Every workspace supports bespoke risk bands, hedging logic, and approval policies so your automation mirrors how your firm already operates."},{question:"How secure is my data?",answer:"Customer data is encrypted in transit and at rest, and every workspace includes audit trails, SSO, and granular access controls."}],R=[{id:"accounts-payable-aging-summary",label:"Accounts payable aging summary",path:"/reports",hasIcon:!0},{id:"accounts-payable-aging-detail",label:"Accounts payable aging detail",path:"/reports",hasIcon:!0},{id:"accounts-receivable-aging-summary",label:"Accounts receivable aging summary",path:"/reports",hasIcon:!0},{id:"accounts-receivable-aging-detail",label:"Accounts receivable aging detail",path:"/reports",hasIcon:!0},{id:"balance-sheet",label:"Balance Sheet",path:"/reports/balance-sheet",hasIcon:!1},{id:"statement-of-cash-flows",label:"Statement of Cash Flows",path:"/reports",hasIcon:!0},{id:"general-ledger",label:"General Ledger",path:"/transactions",hasIcon:!1},{id:"profit-and-loss",label:"Profit and Loss",path:"/reports/income-statement",hasIcon:!1},{id:"unpaid-bills",label:"Unpaid Bills",path:"/invoices",hasIcon:!0}],Je=({isOpen:e,onClose:s})=>{const a=C();if(c.useEffect(()=>{const d=b=>{b.key==="Escape"&&e&&s()};return e&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}},[e,s]),!e)return null;const r=d=>{d.target===d.currentTarget&&s()},n=d=>{a(d),s()},o=R.slice(0,Math.ceil(R.length/2)),i=R.slice(Math.ceil(R.length/2));return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",onClick:r,children:t.jsxs("div",{className:"w-full max-w-4xl rounded-2xl bg-white p-6 shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-primary",children:"Add New"}),t.jsx("button",{onClick:s,className:"text-primary-50 hover:text-primary transition-colors","aria-label":"Close",children:t.jsx(Te,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0 border-t border-primary-10",children:[t.jsx("div",{className:"divide-y divide-primary-10",children:o.map(d=>t.jsxs("button",{onClick:()=>n(d.path),className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-primary-10 transition-colors group",children:[d.hasIcon&&t.jsx(z,{className:"w-4 h-4 text-primary-50 group-hover:text-primary transition-colors flex-shrink-0"}),t.jsx("span",{className:"text-sm text-primary-75 group-hover:text-primary transition-colors",children:d.label})]},d.id))}),t.jsx("div",{className:"divide-y divide-primary-10 border-l border-primary-10 md:border-l",children:i.map(d=>t.jsxs("button",{onClick:()=>n(d.path),className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-primary-10 transition-colors group",children:[d.hasIcon&&t.jsx(z,{className:"w-4 h-4 text-primary-50 group-hover:text-primary transition-colors flex-shrink-0"}),t.jsx("span",{className:"text-sm text-primary-75 group-hover:text-primary transition-colors",children:d.label})]},d.id))})]})]})})},le=[{label:"Dashboard",icon:t.jsx(je,{}),path:"/dashboard"},{label:"Transactions",icon:t.jsx(ke,{}),path:"/transactions"},{label:"Reports",icon:t.jsx(z,{}),path:"/reports"},{label:"Chart of Accounts",icon:t.jsx(Ee,{}),path:"/chart-of-accounts"},{label:"Journal Entries",icon:t.jsx(Se,{}),path:"/journal-entries"},{label:"Invoices",icon:t.jsx(Ae,{}),path:"/invoices"},{label:"Expenses",icon:t.jsx(_e,{}),path:"/expenses"},{label:"Documents",icon:t.jsx(Ne,{}),path:"/documents"},{label:"Client Review",icon:t.jsx(Ie,{}),path:"/client-review"},{label:"Settings",icon:t.jsx(se,{}),path:"/settings"}],Ke={label:"Logout"},l="BKeep Accounting",We=()=>{const e=O();return t.jsx("div",{className:"protected-route-bottombar",children:t.jsx("div",{className:"bottombar-items",children:le.map(s=>t.jsxs(ee,{to:s.path||"/dashboard",className:`bottombar-item ${e.pathname===s.path?"active":""}`,children:[t.jsx("span",{className:"bottombar-item-icon",children:s.icon}),t.jsx("span",{className:"bottombar-item-label",children:s.label})]},s.label))})})},Ge="https://api.yourdomain.com/api",I=e=>{Z.success(e,{icon:"✅"})},v=e=>{Z.error(e,{icon:t.jsx(Pe,{className:"text-primary"})})},x=ze.create({baseURL:Ge,timeout:1e4,headers:{"Content-Type":"application/json"}});x.interceptors.request.use(e=>{const s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));x.interceptors.response.use(e=>e,e=>{if(e.response?.status===401)v("Your session has expired. Logging you out..."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("mfaEnabled"),window.location.pathname!=="/login"&&window.location.pathname!=="/"&&(window.location.href="/login");else if(e.response?.status===403){const s=e.response?.data?.message||"You do not have permission to access this resource";v(s)}return Promise.reject(e)});const S=re((e,s)=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,loading:!1,error:null,mfaEnabled:!1,setAuth:(a,r,n)=>{localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",n),localStorage.setItem("mfaEnabled",JSON.stringify(!!a?.mfaEnabled)),e({user:a,accessToken:r,refreshToken:n,isAuthenticated:!0,mfaEnabled:!!a?.mfaEnabled,error:null})},clearAuth:()=>{localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("mfaEnabled"),P.getState().clearTenants(),e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,mfaEnabled:!1,error:null})},logout:async()=>{e({loading:!0}),s().clearAuth(),e({loading:!1})},hydrateAuth:()=>{try{const a=localStorage.getItem("user"),r=localStorage.getItem("accessToken"),n=localStorage.getItem("refreshToken"),o=localStorage.getItem("mfaEnabled"),i=o!==null?JSON.parse(o):!1;a&&r&&n&&e({user:JSON.parse(a),accessToken:r,refreshToken:n,isAuthenticated:!0,mfaEnabled:i}),P.getState().hydrateTenant()}catch(a){console.error("Failed to hydrate auth",a),s().clearAuth()}},refreshAccessToken:async()=>{const a=s().refreshToken;if(!a)return!1;try{const r=await x.post("/auth/refresh-token",{refreshToken:a}),{accessToken:n,refreshToken:o}=r.data,i=s().user;return s().setAuth(i,n,o),!0}catch(r){return console.error("Token refresh failed",r),s().clearAuth(),!1}},setMfaEnabled:a=>{localStorage.setItem("mfaEnabled",JSON.stringify(a)),e({mfaEnabled:a})}})),A=()=>{const e=S(u=>u.user),s=S(u=>u.accessToken),a=S(u=>u.refreshToken),r=S(u=>u.refreshAccessToken),n=S(u=>u.loading),o=S(u=>u.error),i=S(u=>u.logout),d=S(u=>u.hydrateAuth),b=S(u=>u.setAuth),f=S(u=>u.clearAuth),g=S(u=>u.mfaEnabled),w=S(u=>u.setMfaEnabled);return{user:e,accessToken:s,refreshToken:a,refreshAccessToken:r,loading:n,error:o,logout:i,hydrateAuth:d,setAuth:b,clearAuth:f,mfaEnabled:g,setMfaEnabled:w}};function de(e,s){const a=He(),r={email:e,lastAccessed:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),device:navigator.userAgent,credentialId:s||a?.credentialId};localStorage.setItem("passkeyUser",JSON.stringify(r))}function He(){try{const e=localStorage.getItem("passkeyUser");if(e)return JSON.parse(e)}catch(e){console.error("Failed to parse stored passkey user",e)}return null}function Es(){localStorage.removeItem("passkeyUser")}function Ss(e){const s=e.replace(/-/g,"+").replace(/_/g,"/"),a=s.padEnd(s.length+(4-s.length%4)%4,"="),r=atob(a),n=new Uint8Array(r.length);for(let o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return n.buffer}function As(e){const s=new Uint8Array(e);let a="";for(let n=0;n<s.length;n++)a+=String.fromCharCode(s[n]);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function _s(){return window.PublicKeyCredential!==void 0&&typeof window.PublicKeyCredential=="function"}async function Qe(){return(await x.get("/auth/mfa/status")).data}async function Ye(e){return(await x.post("/auth/passkey/login/options",{email:e.email})).data}async function Xe(e){return(await x.post("/auth/passkey/login/verify",e)).data}async function Ze({email:e,password:s}){console.log({email:e,password:s});const a=await x.post("/auth/login",{email:e,password:s});return console.log(a),a.data}async function et(){await x.post("/auth/logout")}async function tt(e){return(await x.post("/auth/forgot-password",{email:e})).data}async function st(e){return(await x.post("/auth/reset-password",{email:e.email,token:e.token,password:e.password})).data}async function at(e){return(await x.post("/auth/mfa/verify",e)).data}async function nt(){return(await x.post("/auth/mfa/enable")).data}async function rt(){return(await x.post("/auth/mfa/disable")).data}const Ns=()=>F({queryKey:["mfa-status"],queryFn:Qe}),Is=()=>{const{setMfaEnabled:e}=A(),s=V();return k({mutationFn:nt,onSuccess:a=>{e(!0),I(a?.message||"Two-factor authentication enabled"),s.invalidateQueries({queryKey:["mfa-status"]})},onError:a=>{console.error("Enable MFA Failed:",a),v("Enable MFA Failed: "+a.message)}})},Ps=()=>{const{setMfaEnabled:e}=A(),s=V();return k({mutationFn:rt,onSuccess:a=>{e(!1),I(a?.message||"Two-factor authentication disabled"),s.invalidateQueries({queryKey:["mfa-status"]})},onError:a=>{console.error("Disable MFA Failed:",a),v("Disable MFA Failed: "+a.message)}})},ot=()=>{const{clearAuth:e}=A(),s=C();return k({mutationFn:et,onSuccess:()=>{e(),s("/login")},onError:a=>{v("Logout Failed: "+a.message)}})},Cs=()=>{const{setAuth:e}=A(),{setTenants:s}=$(),a=C();return k({mutationFn:r=>Ze(r),onSuccess:r=>{const n=r?.data;if(n?.requiresMfa){I(r?.message||"Verification code sent. Please enter the code to continue."),a("/enter-otp",{state:{email:n.email,mfaType:n.mfaType}});return}if(n?.user&&n?.accessToken&&n?.refreshToken){e(n.user,n.accessToken,n.refreshToken);const o=K(n.user.tenants);s(o,{selectTenantId:n.user.selectedTenantId}),de(n.user.email),a("/dashboard"),console.log("Login Successful: Store Updated")}},onError:r=>{console.error("Login Failed:",r)}})},K=e=>{if(!e)return[];const s=new Map;return e.forEach(a=>{a&&a.id&&s.set(a.id,a)}),Array.from(s.values())},Ls=()=>k({mutationFn:e=>tt(e),onSuccess:()=>{},onError:e=>{console.error("Forgot Password Failed:",e)}}),Rs=()=>k({mutationFn:e=>st(e),onSuccess:()=>{},onError:e=>{console.error("Reset Password Failed:",e)}}),Fs=()=>{const{setAuth:e}=A(),{setTenants:s}=$(),a=C();return k({mutationFn:r=>at(r),onSuccess:r=>{const n=r?.data;if(n?.user&&n?.accessToken&&n?.refreshToken){e(n.user,n.accessToken,n.refreshToken);const o=K(n.user.tenants);s(o,{selectTenantId:n.user.selectedTenantId}),de(n.user.email),I(r?.message||"Successfully verified. Welcome back!"),a("/dashboard")}else v("Verification failed. Please try again.")},onError:r=>{console.error("Verify MFA Failed:",r);const o=r.response?.data?.message||"Invalid or expired code. Please try again.";v(o)}})};async function it(e){return(await x.post("/auth/change-password",e)).data}const Os=()=>k({mutationFn:e=>it(e),onSuccess:e=>{I(e?.message||"Password changed successfully")},onError:e=>{console.error("Change Password Failed:",e)}}),$s=()=>k({mutationFn:e=>Ye(e),onError:e=>{console.error("Passkey Login Init Failed:",e);const a=e.response?.data?.message||"Failed to initialize passkey login";v(a)}}),Ds=()=>{const{setAuth:e}=A(),{setTenants:s}=$(),a=C();return k({mutationFn:r=>Xe(r),onSuccess:r=>{const n=r?.data;if(n?.user&&n?.accessToken&&n?.refreshToken){e(n.user,n.accessToken,n.refreshToken);const o=K(n.user.tenants);s(o,{selectTenantId:n.user.selectedTenantId}),I(r?.message||"Passkey authentication successful!"),a("/dashboard")}else v("Passkey verification failed. Please try again.")},onError:r=>{console.error("Passkey Login Verify Failed:",r);const o=r.response?.data?.message||"Passkey authentication failed. Please try again.";v(o)}})};async function ct(e){return(await x.get(`/auth/verify-invitation?token=${e}`)).data}const Ms=e=>F({queryKey:["verify-invitation",e],queryFn:()=>ct(e),enabled:!!e,retry:!1});async function lt(e){return(await x.post("/auth/accept-invitation",e)).data}const zs=()=>{const e=C(),{setAuth:s}=A();return k({mutationFn:a=>lt(a),onSuccess:a=>{if(I(a?.message||"Invitation accepted successfully!"),a?.data){const r={...a.data.user,roles:a.data.user.roles||(a.data.user.role?[a.data.user.role]:[]),role:a.data.user.role||{id:"",name:"",displayName:""},permissions:a.data.user.permissions||[],tenants:(a.data.user.tenants||[]).map(n=>({...n,isActive:n.isActive??!0,createdAt:n.createdAt||new Date().toISOString(),updatedAt:n.updatedAt||new Date().toISOString()})),selectedTenantId:a.data.user.selectedTenantId||""};s(r,a.data.accessToken,a.data.refreshToken),e("/dashboard")}},onError:a=>{console.error("Accept Invitation Failed:",a);const n=a.response?.data?.message||"Failed to accept invitation. Please try again.";v(n)}})},ue=()=>{const[e,s]=c.useState(!1),{user:a}=A(),[r,n]=c.useState(!1),o=c.useRef(null),{mutateAsync:i,isPending:d}=ot();c.useEffect(()=>{const m=E=>{o.current&&!o.current.contains(E.target)&&s(!1)},y=E=>{E.key==="Escape"&&s(!1)};return e&&(document.addEventListener("mousedown",m),document.addEventListener("keydown",y)),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",y)}},[e]);const b=()=>s(m=>!m),f=()=>{s(!1),n(!0)},g=async()=>{try{await i()}finally{n(!1)}},w=()=>{n(!1)},u=[{label:"Profile",icon:t.jsx(Ce,{className:"w-4 h-4"}),onClick:()=>{console.log("Profile clicked"),s(!1)}},{label:"Settings",icon:t.jsx(se,{className:"w-4 h-4"}),onClick:()=>{console.log("Settings clicked"),s(!1)}},{label:Ke.label,icon:t.jsx(Le,{className:"w-4 h-4"}),onClick:f,isDanger:!0}];return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"relative",ref:o,children:[t.jsx("button",{onClick:b,className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary-10 transition-colors focus:outline-none cursor-pointer","aria-label":"User menu","aria-expanded":e,children:t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary text-white transition-colors",children:a?.name?.charAt(0)?.toUpperCase().slice(0,2)})}),e&&t.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-primary-10 py-2 z-50 dropdown-animate",children:[t.jsx("div",{className:"px-4 py-3 border-b border-primary-10",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-10 flex items-center justify-center text-primary border-2 border-primary-20",children:a?.name?.charAt(0)?.toUpperCase().slice(0,2)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-primary truncate",children:a?.name}),t.jsx("p",{className:"text-xs text-primary-50 truncate",children:a?.email})]})]})}),t.jsx("div",{className:"py-1",children:u.map((m,y)=>t.jsxs("button",{onClick:m.onClick,className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors ${m.isDanger?"text-red-600 hover:bg-red-50 hover:text-red-700":"text-primary-75 hover:bg-primary-10 hover:text-primary"}`,children:[t.jsx("span",{className:"shrink-0",children:m.icon}),t.jsx("span",{className:"text-left",children:m.label})]},`${m.label}-${y}`))})]})]}),r&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",children:t.jsxs("div",{className:"w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl",children:[t.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Sign out?"}),t.jsx("p",{className:"mt-2 text-sm text-primary-75",children:"You will need to sign in again to access your workspace."}),t.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end",children:[t.jsx("button",{className:"rounded-xl border border-primary-10 px-4 py-2 text-sm font-semibold text-primary transition hover:bg-primary-10",onClick:w,disabled:d,children:"Cancel"}),t.jsx("button",{className:"rounded-xl bg-primary px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-75 disabled:cursor-not-allowed disabled:opacity-70",onClick:g,disabled:d,children:d?"Signing out...":"Sign out"})]})]})})]})};async function dt(e={}){const s=new URLSearchParams;e.page!==void 0&&s.append("page",e.page.toString()),e.limit!==void 0&&s.append("limit",e.limit.toString()),e.sort&&s.append("sort",e.sort),e.order&&s.append("order",e.order);const a=s.toString(),r=`/tenants${a?`?${a}`:""}`;return(await x.get(r)).data}async function ut(e={}){const s=new URLSearchParams;e.page!==void 0&&s.append("page",e.page.toString()),e.limit!==void 0&&s.append("limit",e.limit.toString()),e.sort&&s.append("sort",e.sort),e.order&&s.append("order",e.order);const a=s.toString(),r=`/tenants/all${a?`?${a}`:""}`;return(await x.get(r)).data}const mt=(e={})=>F({queryKey:["user-tenants",e],queryFn:async()=>{try{return await dt(e)}catch(s){console.error("Get User Tenants Failed:",s);const r=s.response?.data?.message||"Failed to fetch tenants";throw v(r),s}},retry:!1}),qs=(e={},s)=>F({queryKey:["tenants",e],queryFn:async()=>{try{return await ut(e)}catch(a){console.error("Get Tenants Failed:",a);const r=a;{const n=r.response?.data?.message||"Failed to fetch tenants";v(n)}throw a}},retry:!1});async function pt(e){return(await x.post("/tenants",e)).data}const Vs=()=>{const e=V();return k({mutationFn:async s=>{try{return await pt(s)}catch(a){console.error("Create Tenant Failed:",a);const n=a.response?.data?.message||"Failed to create tenant";throw v(n),a}},onSuccess:s=>{I(s.message||"Tenant created successfully"),e.invalidateQueries({queryKey:["tenants"]})}})};async function ht(e){return(await x.post(`/tenants/${e}/switch`,{})).data}const gt=()=>k({mutationFn:async e=>{try{return console.log("Switching to tenant:",e),await ht(e)}catch(s){console.error("Switch Tenant Failed:",s);const r=s.response?.data?.message||"Failed to switch tenant";throw v(r),s}},onSuccess:e=>{I(e.message||"Tenant switched successfully")}}),me=({compact:e=!1})=>{const{user:s,setAuth:a}=A(),[r,n]=c.useState(!1),[o,i]=c.useState(!1),{mutateAsync:d}=gt(),b=c.useRef(null),{data:f,isLoading:g}=mt({page:1,limit:100,sort:"createdAt",order:"asc"}),w=f?.data?.items||[],u=s?.selectedTenantId,m=w.find(T=>T.id===u);c.useEffect(()=>{const T=j=>{b.current&&!b.current.contains(j.target)&&i(!1)};return o&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[o]);const y=async T=>{if(!T||T===u){i(!1);return}n(!0),i(!1);try{console.log("Initiating tenant switch to:",T);const j=await d(T);if(console.log("Tenant switch response:",j),s&&j.data.accessToken&&j.data.refreshToken){const ge={...s,selectedTenantId:T};a(ge,j.data.accessToken,j.data.refreshToken),console.log("Auth tokens and user updated successfully")}window.location.reload()}catch(j){console.error("Failed to switch tenant:",j),v("Failed to switch tenant. Please try again.")}finally{n(!1)}};if(g||!w.length)return null;const E=e?"text-xs px-2 py-1":"text-sm px-3 py-2";return t.jsxs("div",{className:"relative",ref:b,children:[t.jsxs("button",{onClick:()=>!r&&!g&&i(!o),disabled:r||g,className:`flex items-center px-4 py-2 gap-2 bg-white border border-primary-10 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 ${E} ${r||g?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-primary-20"}`,children:[r||g?t.jsx(Re,{className:"text-primary-50 w-4 h-4 animate-spin"}):t.jsx(W,{className:"text-primary-50 w-4 h-4"}),t.jsx("span",{className:"text-primary font-medium truncate max-w-[150px]",children:g?"Loading...":m?.name||"Select Tenant"}),t.jsx(ae,{className:`text-primary-50 w-3 h-3 transition-transform duration-200 ${o?"rotate-180":""}`})]}),o&&t.jsxs("div",{className:"absolute top-full mt-2 right-0 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 max-h-96 overflow-hidden",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Switch Tenant"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a tenant to switch to"})]}),t.jsx("div",{className:"overflow-y-auto max-h-80",children:w.map(T=>{const j=T.id===u;return t.jsxs("button",{onClick:()=>y(T.id),disabled:r||j,className:`w-full px-4 py-3 flex items-center justify-between  hover:bg-gray-50 transition-colors duration-150 border-b border-gray-100 last:border-b-0 ${j?"bg-primary-5 hover:bg-primary-5":""} ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:`shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${j?"bg-primary text-white":"bg-gray-100 text-gray-600"}`,children:t.jsx(W,{className:"w-4 h-4"})}),t.jsx("div",{className:"flex-1 text-left min-w-0",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("p",{className:`text-sm font-medium truncate ${j?"text-primary":"text-gray-900"}`,children:T.name})})})]}),j&&t.jsx(ne,{className:"text-primary w-4 h-4 shrink-0"})]},T.id)})}),w.length===0&&t.jsx("div",{className:"px-4 py-6 text-center",children:t.jsx("p",{className:"text-sm text-gray-500",children:"No tenants available"})})]})]})},ft=({title:e,subtitle:s})=>t.jsxs("div",{className:"flex items-center bg-white p-4 border-b border-primary/50 justify-between gap-4 flex-wrap",children:[t.jsxs("div",{className:"flex flex-col justify-between min-w-[200px]",children:[t.jsx("h1",{className:"text-xl font-bold text-primary",children:e}),t.jsx("p",{className:"text-sm text-primary-50",children:s})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"hidden lg:block",children:t.jsx(me,{compact:!0})}),t.jsx("div",{className:"hidden lg:inline-block",children:t.jsx(ue,{})})]})]}),Y=()=>t.jsx("div",{className:"horizontal-ruler"}),yt=({collapsed:e})=>{const s=O(),[a,r]=c.useState(e);return t.jsxs("div",{className:`protected-route-sidebar ${a?"collapsed":""}`,children:[t.jsx("div",{className:"sidebar-header",children:t.jsxs("div",{className:"sidebar-header-logo",children:[t.jsx("img",{src:ie,alt:"logo",className:"w-10 h-10"}),t.jsx("span",{className:"sidebar-header-title-text",children:l})]})}),t.jsx(Y,{}),t.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[t.jsx("div",{className:"sidebar-items flex-1",children:le.map(n=>t.jsxs(ee,{to:n.path||"/dashboard",className:`sidebar-item ${s.pathname===n.path?"active":""}`,children:[t.jsx("span",{className:"sidebar-item-icon",children:n.icon}),t.jsx("span",{className:"sidebar-item-label",children:n.label})]},n.label))}),t.jsx(Y,{}),t.jsxs("div",{className:"sidebar-item sidebar-toggle",onClick:()=>r(!a),children:[t.jsx("span",{className:`sidebar-item-icon ${a?"rotate-180":""}`,children:t.jsx(Fe,{className:"w-3 h-3"})}),t.jsx("span",{className:"sidebar-item-label",children:"Collapse Sidebar"})]})]})]})},xt=({compact:e=!1})=>{const[s,a]=c.useState("system"),[r,n]=c.useState(!1),o=c.useRef(null);c.useEffect(()=>{const m=localStorage.getItem("theme");m?(a(m),i(m)):i("system")},[]),c.useEffect(()=>{const m=y=>{o.current&&!o.current.contains(y.target)&&n(!1)};return r&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[r]);const i=m=>{const y=document.documentElement;m==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?y.classList.add("dark"):y.classList.remove("dark"):m==="dark"?y.classList.add("dark"):y.classList.remove("dark")},d=m=>{a(m),localStorage.setItem("theme",m),i(m),n(!1)},b=[{id:"light",name:"Light",icon:Oe,description:"Light theme"},{id:"dark",name:"Dark",icon:$e,description:"Dark theme"},{id:"system",name:"System",icon:De,description:"Use system preference"}],g=b.find(m=>m.id===s)||b[2],w=g.icon,u=e?"text-xs px-2 py-1":"text-sm px-3 py-2";return t.jsxs("div",{className:"relative",ref:o,children:[t.jsxs("button",{onClick:()=>n(!r),className:`flex items-center gap-2 bg-white border border-primary-10 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 ${u} cursor-pointer hover:border-primary-20`,"aria-label":"Switch theme",children:[t.jsx(w,{className:"text-primary-50 w-4 h-4"}),t.jsx("span",{className:"text-primary font-medium",children:g.name}),t.jsx(ae,{className:`text-primary-50 w-3 h-3 transition-transform duration-200 ${r?"rotate-180":""}`})]}),r&&t.jsxs("div",{className:"absolute top-full mt-2 right-0 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-hidden",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Switch Theme"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred theme"})]}),t.jsx("div",{className:"overflow-y-auto",children:b.map(m=>{const y=m.id===s,E=m.icon;return t.jsxs("button",{onClick:()=>d(m.id),className:`w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors duration-150 border-b border-gray-100 last:border-b-0 ${y?"bg-primary-5 hover:bg-primary-5":""} cursor-pointer`,children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:`shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${y?"bg-primary text-white":"bg-gray-100 text-gray-600"}`,children:t.jsx(E,{className:"w-4 h-4"})}),t.jsxs("div",{className:"flex-1 text-left min-w-0",children:[t.jsx("p",{className:`text-sm font-medium ${y?"text-primary":"text-gray-900"}`,children:m.name}),t.jsx("p",{className:"text-xs text-gray-500",children:m.description})]})]}),y&&t.jsx(ne,{className:"text-primary w-4 h-4 shrink-0"})]},m.id)})})]})]})},bt=()=>t.jsx("div",{className:"protected-route-topbar",children:t.jsxs("div",{className:"topbar-content",children:[t.jsxs("div",{className:"topbar-logo",children:[t.jsx("img",{src:oe,alt:"BKeep Accounting Logo",className:"w-8 h-8 object-contain"}),t.jsx("span",{className:"topbar-logo-text",children:l})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[t.jsx(me,{}),t.jsx(xt,{})]}),t.jsx("div",{className:"inline-block lg:hidden",children:t.jsx(ue,{})})]})]})}),pe=fe.forwardRef(({variant:e="primary",size:s="md",onClick:a,disabled:r=!1,icon:n,loading:o=!1,children:i,className:d,isRounded:b=!1,...f},g)=>{const w="inline-flex gap-2 uppercase items-center justify-center font-medium transition-all duration-200 focus:outline-none disabled:pointer-events-none disabled:opacity-50 cursor-pointer hover:scale-95 "+(b?"rounded-full":"rounded-md"),u={sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-1 text-sm",lg:"h-12 px-6 py-2 text-base"},m={primary:"bg-primary hover:bg-primary-75 text-white ",outline:"bg-white text-primary border border-primary hover:bg-primary hover:text-white  active:bg-primary"},y=[w,u[s],m[e],o&&"cursor-not-allowed",d].filter(Boolean).join(" ").trim(),E=r||o;return t.jsxs("button",{ref:g,className:y,onClick:E?void 0:a,disabled:E,"aria-disabled":E,...f,children:[o&&t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&n,i]})});pe.displayName="Button";const wt=({children:e,showLoading:s=!1})=>{const a=O(),{selectedTenant:r}=$(),[n,o]=c.useState(!1),[i,d]=c.useState(!1);c.useEffect(()=>{o(!0);const g=setTimeout(()=>o(!1),300);return()=>clearTimeout(g)},[a.pathname]);const b=s||n,f=Ue.find(g=>g.path===a.pathname);return t.jsx("main",{className:"protected-route",children:t.jsxs("div",{className:"protected-route-wrapper relative",children:[b&&t.jsx(U,{}),t.jsx(bt,{}),t.jsx(yt,{collapsed:!1}),t.jsxs("div",{className:"protected-route-content relative","data-tenant-id":r?.id||"default",children:[f&&t.jsx(ft,{title:f.title,subtitle:f.subtitle}),t.jsx("div",{className:"p-4 sm:h-[calc(100vh-100px)] overflow-auto",children:e},r?.id||"default-tenant")]}),t.jsx("div",{className:"absolute bottom-4 right-4",children:t.jsxs(pe,{isRounded:!0,onClick:()=>d(!0),children:[t.jsx(Me,{}),"Add New"]})}),t.jsx(Je,{isOpen:i,onClose:()=>d(!1)}),t.jsx(We,{})]})})},vt={title:`${l} - Modern Accounting Software`,description:`${l} is a modern accounting software solution for managing your business finances, invoices, expenses, and reports.`,keywords:"accounting, bookkeeping, invoicing, financial management, business software",ogType:"website",twitterCard:"summary_large_image"},_={"/":{title:`${l} - Modern Accounting Software for Your Business`,description:`Streamline your accounting with ${l}. Manage invoices, track expenses, generate reports, and keep your finances organized all in one place.`,keywords:"accounting software, bookkeeping, invoicing, financial management, business accounting",ogTitle:`${l} - Modern Accounting Software`,ogDescription:"Streamline your accounting with our modern software solution."},"/login":{title:`Login - ${l}`,description:`Sign in to your ${l} account to access your dashboard and manage your accounting needs.`,keywords:"login, sign in, account access, accounting software login"},"/passkey-login":{title:`Passkey Login - ${l}`,description:`Sign in securely using passkey authentication to your ${l} account.`,keywords:"passkey login, passwordless authentication, secure login"},"/register":{title:`Create Account - ${l}`,description:`Create your ${l} account and start managing your business finances today.`,keywords:"register, sign up, create account, accounting software registration"},"/forgot-password":{title:`Forgot Password - ${l}`,description:`Reset your ${l} account password. Enter your email to receive password reset instructions.`,keywords:"forgot password, password reset, account recovery"},"/enter-otp":{title:`OTP Verification - ${l}`,description:`Verify your identity with OTP code to access your ${l} account.`,keywords:"otp verification, two-factor authentication, account security"},"/reset-password":{title:`Reset Password - ${l}`,description:`Set a new password for your ${l} account.`,keywords:"reset password, new password, account security"},"/accept-invitation":{title:`Accept Invitation - ${l}`,description:`Accept the invitation to join ${l} and start collaborating with your team.`,keywords:"invitation, team collaboration, join organization"},"/dashboard":{title:`Dashboard - ${l}`,description:`View your financial overview, recent transactions, and key metrics on your ${l} dashboard.`,keywords:"dashboard, financial overview, accounting dashboard, business metrics"},"/transactions":{title:`Transactions - ${l}`,description:`View and manage all your financial transactions in one place with ${l}.`,keywords:"transactions, financial records, transaction management, accounting transactions"},"/reports":{title:`Reports - ${l}`,description:"Generate and view comprehensive financial reports including income statements, balance sheets, and more.",keywords:"financial reports, accounting reports, business reports, financial analysis"},"/reports/income-statement":{title:`Income Statement - ${l}`,description:"View your revenue, expenses, and net income with detailed income statement reports.",keywords:"income statement, profit and loss, revenue, expenses, financial statement"},"/reports/balance-sheet":{title:`Balance Sheet - ${l}`,description:"View your assets, liabilities, and equity with comprehensive balance sheet reports.",keywords:"balance sheet, assets, liabilities, equity, financial position"},"/chart-of-accounts":{title:`Chart of Accounts - ${l}`,description:"Manage your accounts, track balances, and organize your financial structure with the chart of accounts.",keywords:"chart of accounts, accounts management, accounting structure, financial accounts"},"/settings":{title:`Settings - ${l}`,description:`Manage your account settings, preferences, and user management in ${l}.`,keywords:"settings, account settings, preferences, user management"},"/settings/profile":{title:`Profile Settings - ${l}`,description:"Update your profile information, personal details, and account preferences.",keywords:"profile settings, user profile, account information, personal settings"},"/settings/tenants":{title:`Tenants Management - ${l}`,description:"Manage your organization tenants and multi-tenant settings.",keywords:"tenants, organization management, multi-tenant, workspace settings"},"/settings/users":{title:`Users Management - ${l}`,description:"Manage users, roles, and permissions for your organization.",keywords:"user management, team management, roles, permissions, access control"},"/settings/roles":{title:`Roles Management - ${l}`,description:"Configure and manage user roles and permissions for your organization.",keywords:"roles, permissions, access control, user roles, security roles"},"/settings/security":{title:`Security Settings - ${l}`,description:"Manage your account security settings including passwords, two-factor authentication, and passkeys.",keywords:"security settings, password, two-factor authentication, passkey, account security"},"/settings/data":{title:`Data & Privacy - ${l}`,description:`Manage your data privacy settings and preferences in ${l}.`,keywords:"data privacy, privacy settings, data protection, GDPR, privacy policy"},"/settings/notifications":{title:`Notification Settings - ${l}`,description:"Configure your notification preferences for email, push, and SMS notifications.",keywords:"notifications, notification settings, alerts, email notifications, push notifications"},"/invoices":{title:`Invoices - ${l}`,description:`Create, manage, and track your invoices with ${l} invoicing system.`,keywords:"invoices, invoicing, billing, invoice management, create invoice"},"/expenses":{title:`Expenses - ${l}`,description:`Track and manage your business expenses efficiently with ${l}.`,keywords:"expenses, expense tracking, business expenses, cost management, expense reports"},"/documents":{title:`Documents - ${l}`,description:"Upload, organize, and manage your business documents in one secure location.",keywords:"documents, document management, file storage, document organization"},"/client-review":{title:`Client Review - ${l}`,description:"Review and categorize transactions that need your input and approval.",keywords:"client review, transaction review, approval workflow, transaction categorization"},"/journal-entries":{title:`Journal Entries - ${l}`,description:"View and manage all your accounting journal entries.",keywords:"journal entries, accounting entries, general ledger, bookkeeping entries"},"/journal-entries/new":{title:`Create Journal Entry - ${l}`,description:"Create a new journal entry to record financial transactions.",keywords:"create journal entry, new entry, accounting entry, financial transaction"},"/journal-entries/:id":{title:`View Journal Entry - ${l}`,description:"View details of a specific journal entry in your accounting records.",keywords:"journal entry, view entry, accounting entry details, transaction details"},"/journal-entries/:id/edit":{title:`Edit Journal Entry - ${l}`,description:"Edit an existing journal entry to update financial transaction records.",keywords:"edit journal entry, update entry, modify transaction, edit accounting entry"}},Tt=e=>{const s=jt(e);if(_[s])return _[s];const a=s.split("/").filter(Boolean);if(a.length>=2){if(a[a.length-1]==="edit"){const i="/"+a.slice(0,-2).join("/")+"/:id/edit";if(_[i])return _[i]}const r="/"+a.slice(0,-1).join("/"),n=r+"/:id";if(_[n])return _[n];if(_[r])return _[r]}if(a.length>0){const r="/"+a[0];if(_[r])return _[r]}return vt},jt=e=>e.split("?")[0],kt=()=>{const e=O();c.useEffect(()=>{const s=Tt(e.pathname);document.title=s.title,N("description",s.description),N("keywords",s.keywords),N("og:title",s.ogTitle||s.title,"property"),N("og:description",s.ogDescription||s.description,"property"),N("og:type",s.ogType||"website","property"),s.ogImage&&N("og:image",s.ogImage,"property"),N("twitter:card",s.twitterCard||"summary_large_image"),N("twitter:title",s.twitterTitle||s.title),N("twitter:description",s.twitterDescription||s.description),s.canonical?X(s.canonical):X(window.location.href.split("?")[0])},[e.pathname])},N=(e,s,a="name")=>{if(!s)return;let r=document.querySelector(`meta[${a}="${e}"]`);r||(r=document.createElement("meta"),r.setAttribute(a,e),document.head.appendChild(r)),r.setAttribute("content",s)},X=e=>{let s=document.querySelector('link[rel="canonical"]');s||(s=document.createElement("link"),s.setAttribute("rel","canonical"),document.head.appendChild(s)),s.setAttribute("href",e)},he=()=>(kt(),null),Et=()=>{const{accessToken:e,loading:s}=A();return e?t.jsxs(t.Fragment,{children:[t.jsx(he,{}),t.jsx(wt,{showLoading:s,children:t.jsx(te,{})})]}):t.jsx(B,{to:"/login",replace:!0})},St=({children:e})=>t.jsx("main",{className:"public-route",children:t.jsx("div",{className:"public-route-wrapper",children:e})}),At=()=>{const{accessToken:e,loading:s}=A();return s?t.jsx(U,{}):e?t.jsx(B,{to:"/dashboard",replace:!0}):t.jsxs(t.Fragment,{children:[t.jsx(he,{}),t.jsx(St,{children:t.jsx(te,{})})]})},_t=c.lazy(()=>h(()=>import("./Homepage-g0gKriRn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Nt=c.lazy(()=>h(()=>import("./Loginpage-Ce5LgZEa.js"),__vite__mapDeps([11,1,2,3,12,4,5,6,7,8,9]))),It=c.lazy(()=>h(()=>import("./PasskeyLoginpage-CwOoxuoY.js"),__vite__mapDeps([13,1,2,14,3,4,5,6,7,8,9]))),Pt=c.lazy(()=>h(()=>import("./Registerpage-aHsoBDAR.js"),__vite__mapDeps([15,1,2,3,12,4,5,6,7,8,9]))),Ct=c.lazy(()=>h(()=>import("./ForgotPasswordpage-CSpUCqJF.js"),__vite__mapDeps([16,1,3,2,12,4,5,6,7,8,9]))),Lt=c.lazy(()=>h(()=>import("./OtpVerificationpage-D0G-l94F.js"),__vite__mapDeps([17,1,2,12,18,6,5,4,7,3,8,9]))),Rt=c.lazy(()=>h(()=>import("./ResetPasswordpage-t0IAW9bw.js"),__vite__mapDeps([19,1,3,2,12,4,5,6,7,8,9]))),Ft=c.lazy(()=>h(()=>import("./AcceptInvitationpage-CxYz97oy.js"),__vite__mapDeps([20,1,2,3,12,4,5,6,7,8,9]))),Ot=c.lazy(()=>h(()=>import("./Dashboardpage-CZuLGWGQ.js"),__vite__mapDeps([21,1,3,22,4,5,23,24]))),$t=c.lazy(()=>h(()=>import("./Transactionpage-4B5o96Vm.js"),__vite__mapDeps([25,1,3,6,5,4,7,2,8,9]))),Dt=c.lazy(()=>h(()=>import("./Reportpage-CydfGwBu.js"),__vite__mapDeps([26,1,3,7,5,23,22,4,24,27,28]))),Mt=c.lazy(()=>h(()=>import("./IncomeStatementpage-Bn2DiyRo.js"),__vite__mapDeps([29,1,3,23,22,4,5,24,27]))),zt=c.lazy(()=>h(()=>import("./BalanceSheetpage-3POGbJrv.js"),__vite__mapDeps([30,1,3,24]))),qt=c.lazy(()=>h(()=>import("./ChartOfAccountspage-BTJzKazc.js"),__vite__mapDeps([31,1,3,12,4,5,6,7,2,8,9]))),Vt=c.lazy(()=>h(()=>import("./Settingspage-gIv8XLxm.js"),__vite__mapDeps([32,1,3,2,12,7,5,4,6,8,9]))),Bt=c.lazy(()=>h(()=>import("./Invoicepage-BNvKKENA.js"),__vite__mapDeps([33,1,3,12,4,5,6,7,2,8,9]))),Ut=c.lazy(()=>h(()=>import("./Expensespage-2lhYnk8k.js"),__vite__mapDeps([34,1,3,12,4,5,6,7,2,8,9]))),Jt=c.lazy(()=>h(()=>import("./Documentspage-CjZF37rA.js"),__vite__mapDeps([35,1,3,36,12]))),Kt=c.lazy(()=>h(()=>import("./ClientReviewpage-BdyA7CWq.js"),__vite__mapDeps([37,1,3,12,4,5,6,7,2,8,9]))),Wt=c.lazy(()=>h(()=>import("./JournalEntriespage-da7lXVLw.js"),__vite__mapDeps([38,1,3,2,36,39,6,5,4,7,8,9]))),Gt=c.lazy(()=>h(()=>import("./CreateJournalEntrypage-CzMe2MVQ.js"),__vite__mapDeps([40,1,2,41,3,12,39,6,5,4,7,8,9]))),Ht=c.lazy(()=>h(()=>import("./ViewJournalEntrypage-B1m-a9pB.js"),__vite__mapDeps([42,1,2,39,6,5,4,7,3,8,9]))),Qt=c.lazy(()=>h(()=>import("./EditJournalEntrypage-BpVdbj48.js"),__vite__mapDeps([43,1,2,41,3,12,39,6,5,4,7,8,9]))),Yt=c.lazy(()=>h(()=>import("./SettingsTabWrappers-B1RbHvee.js"),__vite__mapDeps([44,1,3,12,7,5,4,6,2,8,9])).then(e=>({default:e.ProfileTabWrapper}))),Xt=c.lazy(()=>h(()=>import("./SettingsTabWrappers-B1RbHvee.js"),__vite__mapDeps([44,1,3,12,7,5,4,6,2,8,9])).then(e=>({default:e.NotificationsTabWrapper}))),Zt=c.lazy(()=>h(()=>import("./DataPrivacyTab-ByB8PE3B.js"),__vite__mapDeps([45,1,4,5,6,7,2,3,8,9]))),es=c.lazy(()=>h(()=>import("./RolesTab-Du0FLRH3.js"),__vite__mapDeps([46,1,3,47,6,5,4,7,2,8,9]))),ts=c.lazy(()=>h(()=>import("./SecurityTab-BpVtU2_p.js"),__vite__mapDeps([48,1,18,6,5,36,3,12,4,7,2,8,9]))),ss=c.lazy(()=>h(()=>import("./TenantsTab-B4L8tjMy.js"),__vite__mapDeps([49,1,3,50,12,4,5,6,7,2,8,9]))),as=c.lazy(()=>h(()=>import("./UsersTab-BoqsAOLE.js"),__vite__mapDeps([51,1,3,47,6,5,50,12,4,7,2,8,9]))),p=e=>t.jsx(c.Suspense,{fallback:t.jsx(U,{}),children:t.jsx(e,{})}),ns=we([{element:t.jsx(At,{}),children:[{path:"/",element:p(_t)},{path:"/login",element:p(Nt)},{path:"/passkey-login",element:p(It)},{path:"/register",element:p(Pt)},{path:"/forgot-password",element:p(Ct)},{path:"/enter-otp",element:p(Lt)},{path:"/reset-password",element:p(Rt)},{path:"/accept-invitation",element:p(Ft)}]},{element:t.jsx(Et,{}),children:[{path:"/dashboard",element:p(Ot)},{path:"/transactions",element:p($t)},{path:"/reports",element:p(Dt)},{path:"/reports/income-statement",element:p(Mt)},{path:"/reports/balance-sheet",element:p(zt)},{path:"/chart-of-accounts",element:p(qt)},{path:"/settings",element:p(Vt),children:[{index:!0,element:t.jsx(B,{to:"/settings/profile",replace:!0})},{path:"/settings/profile",element:p(Yt)},{path:"/settings/tenants",element:p(ss)},{path:"/settings/users",element:p(as)},{path:"/settings/roles",element:p(es)},{path:"/settings/security",element:p(ts)},{path:"/settings/data",element:p(Zt)},{path:"/settings/notifications",element:p(Xt)}]},{path:"/invoices",element:p(Bt)},{path:"/expenses",element:p(Ut)},{path:"/documents",element:p(Jt)},{path:"/client-review",element:p(Kt)},{path:"/journal-entries",element:p(Wt)},{path:"/journal-entries/new",element:p(Gt)},{path:"/journal-entries/:id",element:p(Ht)},{path:"/journal-entries/:id/edit",element:p(Qt)}]}]),rs=new qe({defaultOptions:{queries:{staleTime:1e3*60*5}}});function os(){const{hydrateAuth:e}=A();return c.useEffect(()=>{e()},[]),t.jsx(t.Fragment,{children:t.jsxs(xe,{client:rs,children:[t.jsx(ve,{router:ns}),t.jsx(be,{position:"top-center",toastOptions:{duration:4e3}})]})})}ye.createRoot(document.getElementById("root")).render(t.jsx(os,{}));export{l as A,pe as B,ws as C,Ns as D,Vs as E,ks as F,qs as G,ys as H,bs as I,U as L,vs as O,xs as P,fs as T,Ts as a,js as b,$s as c,Ds as d,de as e,I as f,He as g,Ls as h,_s as i,A as j,$ as k,oe as l,Fs as m,Rs as n,Ms as o,zs as p,x as q,Es as r,v as s,ft as t,Cs as u,Os as v,Ss as w,As as x,Is as y,Ps as z};
