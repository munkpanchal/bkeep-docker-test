import{a as x,j as e}from"./react-core-0npe00lJ.js";import{ab as j,ac as f,C as N,x as g,a8 as h}from"./react-icons-B--SyvS1.js";import{j as p,B as m}from"./index-HjQGXCX9.js";import{I as n}from"./InputFields-CMQHEwPH.js";import"./ui-libs-CuSWTeap.js";import"./react-dom-CdyVvfHO.js";import"./vendor-CGKUqG9W.js";import"./react-query-BvwtvcJK.js";import"./react-router-lgh_Y1WM.js";import"./zustand-Ccm-5Iud.js";import"./axios-B9ygI19o.js";const v=({formData:s,onFormDataChange:t,onSubmit:l,roleDisplayName:a})=>{const{user:i}=p(),[d,c]=x.useState(!1),u=r=>{l(r),c(!1)},b=r=>r.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-primary-10/30 rounded-2xl p-6 border border-primary-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-primary to-primary-75 flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:b(s.name||"User")}),e.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 bg-green-500 rounded-full border-4 border-white"})]}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:s.name||"User Name"}),e.jsx("p",{className:"text-sm text-primary-50",children:"Manage your personal information and account settings"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.company&&e.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-full text-xs text-primary-75 border border-primary-10",children:[e.jsx(j,{className:"text-primary"}),s.company]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-full text-xs text-primary-75 border border-primary-10",children:[e.jsx(f,{className:"text-primary"}),s.phone]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-full text-xs text-primary-75 border border-primary-10",children:[e.jsx(N,{className:"text-primary"}),s.email]})]})]}),!d&&e.jsx(m,{variant:"primary",size:"sm",onClick:()=>c(!0),type:"button",children:"Edit Profile"})]})}),d?e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-primary mb-6 flex items-center gap-2",children:[e.jsx(g,{className:"text-primary-50"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(n,{id:"name",label:"Full Name",value:s.name,onChange:r=>t({...s,name:r.target.value}),required:!0}),e.jsx(n,{id:"email",label:"Email Address",type:"email",value:s.email,onChange:r=>t({...s,email:r.target.value}),required:!0}),e.jsx(n,{id:"phone",label:"Phone Number",type:"tel",value:s.phone,onChange:r=>t({...s,phone:r.target.value})}),e.jsx(n,{id:"company",label:"Company / Location",value:s.company,onChange:r=>t({...s,company:r.target.value})}),e.jsx(n,{id:"timezone",label:"Timezone",value:s.timezone,onChange:r=>t({...s,timezone:r.target.value})}),e.jsx(n,{id:"currency",label:"Currency",value:s.currency,onChange:r=>t({...s,currency:r.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-primary-10",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsxs(m,{type:"submit",variant:"primary",children:[e.jsx(h,{className:"mr-2"}),"Save Changes"]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-primary-50 mb-2",children:"Full Name"}),e.jsx("div",{className:"text-sm font-semibold text-primary",children:s.name||i?.name||"—"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-primary-50 mb-2",children:"Email Address"}),e.jsx("div",{className:"text-sm font-semibold text-primary break-all",children:s.email||i?.email||"—"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-primary-50 mb-2",children:"Phone Number"}),e.jsx("div",{className:"text-sm font-semibold text-primary",children:s.phone||"—"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-primary-50 mb-2",children:"Company / Location"}),e.jsx("div",{className:"text-sm font-semibold text-primary",children:s.company||"—"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-primary-50 mb-2",children:"Role"}),e.jsx("div",{className:"text-sm font-semibold text-primary",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-10 text-primary",children:a||i?.role?.displayName||i?.role?.name||"—"})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-primary-50 mb-2",children:"Currency"}),e.jsx("div",{className:"text-sm font-semibold text-primary",children:s.currency||"—"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-primary",children:"Permissions"}),e.jsx("p",{className:"text-xs text-primary-50",children:"Capabilities granted to this user"})]}),e.jsxs("span",{className:"text-xs text-primary-50",children:[i?.permissions?.length||0," permission",i&&i.permissions.length!==1?"s":""]})]}),i?.permissions&&i.permissions.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:i.permissions.map(r=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-primary-5 text-primary border border-primary-10",children:r.displayName},r.id))}):e.jsx("p",{className:"text-xs text-primary-50",children:"No permissions assigned"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-primary-10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-primary",children:"Organizations / Tenants"}),e.jsx("p",{className:"text-xs text-primary-50",children:"All organizations this user belongs to"})]}),i?.tenants&&e.jsxs("span",{className:"text-xs text-primary-50",children:[i.tenants.length," tenant",i.tenants.length!==1?"s":""]})]}),i?.tenants&&i.tenants.length>0?e.jsx("div",{className:"space-y-2",children:i.tenants.map(r=>{const o=r.isPrimary,y=i.selectedTenantId===r.id;return e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-primary-10 px-3 py-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-primary",children:r.name}),e.jsx("div",{className:"text-xs text-primary-50 break-all",children:r.id})]}),e.jsxs("div",{className:"flex gap-2",children:[o&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-primary-10 text-primary",children:"Primary"}),y&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-green-100 text-green-700",children:"Selected"})]})]},r.id)})}):e.jsx("p",{className:"text-xs text-primary-50",children:"No tenant information available"})]})]})]})},w=({formData:s,onFormDataChange:t,onSubmit:l})=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.notifications).map(([a,i])=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-primary-10 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-primary capitalize",children:[a," Notifications"]}),e.jsxs("div",{className:"text-sm text-primary-50",children:["Receive notifications via ",a]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:d=>t({...s,notifications:{...s.notifications,[a]:d.target.checked}}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-primary-10 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-primary after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]},a))}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-primary-10",children:e.jsxs(m,{onClick:l,variant:"primary",children:[e.jsx(h,{className:"mr-2"}),"Save Changes"]})})]}),I=()=>{const{user:s}=p(),[t,l]=x.useState({name:s?.name||"",email:s?.email||"",phone:"",company:"",timezone:"America/New_York",currency:"USD",dateFormat:"MM/DD/YYYY",notifications:{email:!0,push:!1,sms:!1}}),a=i=>{i.preventDefault(),console.log("Settings saved:",t)};return e.jsx(v,{formData:t,onFormDataChange:l,onSubmit:a,roleDisplayName:s?.role?.displayName||s?.role?.name})},U=()=>{const{user:s}=p(),[t,l]=x.useState({name:s?.name||"",email:s?.email||"",phone:"",company:"",timezone:"America/New_York",currency:"USD",dateFormat:"MM/DD/YYYY",notifications:{email:!0,push:!1,sms:!1}}),a=i=>{i.preventDefault(),console.log("Settings saved:",t)};return e.jsx(w,{formData:t,onFormDataChange:l,onSubmit:a})};export{U as NotificationsTabWrapper,I as ProfileTabWrapper};
