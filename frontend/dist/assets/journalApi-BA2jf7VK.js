import{b as c,a,u as o}from"./react-query-BvwtvcJK.js";import{s as u,f as i,q as t}from"./index-HjQGXCX9.js";async function y(n){const e=new URLSearchParams;return n?.page&&e.append("page",n.page.toString()),n?.limit&&e.append("limit",n.limit.toString()),n?.search&&e.append("search",n.search),n?.status&&e.append("status",n.status),n?.startDate&&e.append("startDate",n.startDate),n?.endDate&&e.append("endDate",n.endDate),n?.isAdjusting!==void 0&&e.append("isAdjusting",n.isAdjusting.toString()),(await t.get(`/journal-entries${e.toString()?`?${e.toString()}`:""}`)).data}async function d(n){return(await t.get(`/journal-entries/${n}`)).data}async function m(n){const e=new FormData;return n.journalNo&&e.append("journalNo",n.journalNo),e.append("journalDate",n.journalDate),e.append("isAdjusting",n.isAdjusting.toString()),e.append("lines",JSON.stringify(n.lines)),n.memo&&e.append("memo",n.memo),n.isRecurring&&e.append("isRecurring",n.isRecurring.toString()),n.recurringFrequency&&e.append("recurringFrequency",n.recurringFrequency),n.attachments&&n.attachments.length>0&&n.attachments.forEach(s=>{e.append("attachments",s)}),(await t.post("/journal-entries",e,{headers:{"Content-Type":"multipart/form-data"}})).data}async function p(n,e){const r=new FormData;return e.journalNo&&r.append("journalNo",e.journalNo),e.journalDate&&r.append("journalDate",e.journalDate),e.isAdjusting!==void 0&&r.append("isAdjusting",e.isAdjusting.toString()),e.lines&&r.append("lines",JSON.stringify(e.lines)),e.memo!==void 0&&r.append("memo",e.memo),e.isRecurring!==void 0&&r.append("isRecurring",e.isRecurring.toString()),e.recurringFrequency&&r.append("recurringFrequency",e.recurringFrequency),e.attachments&&e.attachments.length>0&&e.attachments.forEach(l=>{r.append("attachments",l)}),(await t.put(`/journal-entries/${n}`,r,{headers:{"Content-Type":"multipart/form-data"}})).data}async function g(n){return(await t.delete(`/journal-entries/${n}`)).data}async function j(n){return(await t.post(`/journal-entries/${n}/post`)).data}async function E(n){return(await t.post(`/journal-entries/${n}/void`)).data}async function f(n){return(await t.post(`/journal-entries/${n}/reverse`)).data}async function q(n){return(await t.patch(`/journal-entries/${n}/restore`)).data}const F=n=>c({queryKey:["journal-entries",n],queryFn:()=>y(n)}),h=n=>c({queryKey:["journal-entry",n],queryFn:()=>d(n),enabled:!!n}),A=()=>{const n=a();return o({mutationFn:e=>m(e),onSuccess:e=>{i(e?.message||"Journal entry created successfully"),n.invalidateQueries({queryKey:["journal-entries"]})},onError:e=>{console.error("Create journal entry failed:",e);const s=e.response?.data?.message||"Failed to create journal entry";u(s)}})},S=()=>{const n=a();return o({mutationFn:({id:e,payload:r})=>p(e,r),onSuccess:(e,r)=>{i(e?.message||"Journal entry updated successfully"),n.invalidateQueries({queryKey:["journal-entries"]}),n.invalidateQueries({queryKey:["journal-entry",r.id]})},onError:e=>{console.error("Update journal entry failed:",e);const s=e.response?.data?.message||"Failed to update journal entry";u(s)}})},b=()=>{const n=a();return o({mutationFn:e=>g(e),onSuccess:e=>{i(e?.message||"Journal entry deleted successfully"),n.invalidateQueries({queryKey:["journal-entries"]})},onError:e=>{console.error("Delete journal entry failed:",e);const s=e.response?.data?.message||"Failed to delete journal entry";u(s)}})},D=()=>{const n=a();return o({mutationFn:e=>j(e),onSuccess:(e,r)=>{i(e?.message||"Journal entry posted successfully"),n.invalidateQueries({queryKey:["journal-entries"]}),n.invalidateQueries({queryKey:["journal-entry",r]})},onError:e=>{console.error("Post journal entry failed:",e);const s=e.response?.data?.message||"Failed to post journal entry";u(s)}})},x=()=>{const n=a();return o({mutationFn:e=>E(e),onSuccess:(e,r)=>{i(e?.message||"Journal entry voided successfully"),n.invalidateQueries({queryKey:["journal-entries"]}),n.invalidateQueries({queryKey:["journal-entry",r]})},onError:e=>{console.error("Void journal entry failed:",e);const s=e.response?.data?.message||"Failed to void journal entry";u(s)}})},w=()=>{const n=a();return o({mutationFn:e=>f(e),onSuccess:(e,r)=>{i(e?.message||"Journal entry reversed successfully"),n.invalidateQueries({queryKey:["journal-entries"]}),n.invalidateQueries({queryKey:["journal-entry",r]})},onError:e=>{console.error("Reverse journal entry failed:",e);const s=e.response?.data?.message||"Failed to reverse journal entry";u(s)}})},K=()=>{const n=a();return o({mutationFn:e=>q(e),onSuccess:(e,r)=>{i(e?.message||"Journal entry restored successfully"),n.invalidateQueries({queryKey:["journal-entries"]}),n.invalidateQueries({queryKey:["journal-entry",r]})},onError:e=>{console.error("Restore journal entry failed:",e);const s=e.response?.data?.message||"Failed to restore journal entry";u(s)}})};export{b as a,D as b,x as c,w as d,K as e,A as f,h as g,S as h,F as u};
