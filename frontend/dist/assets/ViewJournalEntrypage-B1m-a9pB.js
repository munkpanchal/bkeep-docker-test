import{j as e}from"./react-core-0npe00lJ.js";import{d as x}from"./react-router-lgh_Y1WM.js";import{L as n,t as c}from"./index-HjQGXCX9.js";import{g as o}from"./journalApi-BA2jf7VK.js";import"./react-dom-CdyVvfHO.js";import"./vendor-CGKUqG9W.js";import"./react-query-BvwtvcJK.js";import"./ui-libs-CuSWTeap.js";import"./react-icons-B--SyvS1.js";import"./zustand-Ccm-5Iud.js";import"./axios-B9ygI19o.js";function D(){const{id:i}=x(),{data:d,isLoading:m}=o(i),t=d?.data?.journalEntry;if(m)return e.jsx(n,{});if(!t)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-sm text-red-600",children:"Journal entry not found"})});const l=r=>{const s={draft:{bg:"bg-gray-100",text:"text-gray-700",label:"Draft"},posted:{bg:"bg-green-100",text:"text-green-700",label:"Posted"},voided:{bg:"bg-red-100",text:"text-red-700",label:"Voided"}},a=s[r]||s.draft;return e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${a.bg} ${a.text}`,children:a.label})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{title:`Journal Entry ${t.journalNo}`,subtitle:new Date(t.journalDate).toLocaleDateString()}),e.jsx("div",{className:"bg-white rounded-lg border border-primary-10 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-50 mb-1",children:"Status"}),l(t.status)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-50 mb-1",children:"Journal No."}),e.jsx("p",{className:"text-primary font-medium",children:t.journalNo})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-50 mb-1",children:"Date"}),e.jsx("p",{className:"text-primary font-medium",children:new Date(t.journalDate).toLocaleDateString()})]}),t.isAdjusting&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-50 mb-1",children:"Type"}),e.jsx("p",{className:"text-blue-600 font-medium",children:"Adjusting Entry"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-primary-10 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-2 border-b border-primary-10",children:e.jsx("h3",{className:"text-base font-semibold text-primary",children:"Journal Lines"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-primary-75 uppercase tracking-wider",children:"Account"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-primary-75 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-primary-75 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-primary-75 uppercase tracking-wider",children:"Debit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-primary-75 uppercase tracking-wider",children:"Credit"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.lines.map((r,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-sm text-primary",children:r.accountName||r.accountId}),e.jsx("td",{className:"px-3 py-2 text-sm text-primary-75",children:r.description}),e.jsx("td",{className:"px-3 py-2 text-sm text-primary-75",children:r.name||"—"}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-primary",children:r.debit>0?`$${r.debit.toFixed(2)}`:"—"}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-primary",children:r.credit>0?`$${r.credit.toFixed(2)}`:"—"})]},r.id||s))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-3 py-2 text-right font-semibold text-sm text-primary",children:"Total"}),e.jsxs("td",{className:"px-3 py-2 text-right font-semibold text-sm text-primary",children:["$",t.totalDebit.toFixed(2)]}),e.jsxs("td",{className:"px-3 py-2 text-right font-semibold text-sm text-primary",children:["$",t.totalCredit.toFixed(2)]})]})})]})})]}),t.memo&&e.jsxs("div",{className:"bg-white rounded-lg border border-primary-10 p-3",children:[e.jsx("h3",{className:"text-sm font-medium text-primary mb-1",children:"Memo"}),e.jsx("p",{className:"text-sm text-primary-75 whitespace-pre-wrap",children:t.memo})]}),t.attachments&&t.attachments.length>0&&e.jsxs("div",{className:"bg-white rounded-lg border border-primary-10 p-3",children:[e.jsx("h3",{className:"text-sm font-medium text-primary mb-2",children:"Attachments"}),e.jsx("div",{className:"space-y-2",children:t.attachments.map((r,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-primary-10 rounded-lg",children:[e.jsx("span",{className:"text-sm text-primary",children:r}),e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Download"})]},s))})]})]})}export{D as default};
