import{a as i,j as e}from"./react-core-0npe00lJ.js";import{E as j,G as f,D as p,N as I,O as L,a7 as y,F as E,a8 as z}from"./react-icons-B--SyvS1.js";import{B as m}from"./index-HjQGXCX9.js";import{I as N,T as B}from"./InputFields-CMQHEwPH.js";import"./react-dom-CdyVvfHO.js";import"./vendor-CGKUqG9W.js";import"./react-query-BvwtvcJK.js";import"./ui-libs-CuSWTeap.js";import"./react-router-lgh_Y1WM.js";import"./zustand-Ccm-5Iud.js";import"./axios-B9ygI19o.js";const O=[{id:"1",date:"2024-01-15",description:"Payment to Vendor XYZ - Invoice #12345",amount:1250,suggestedCategory:"Office Supplies",status:"pending",aiConfidence:65},{id:"2",date:"2024-01-18",description:"Bank Transfer - Monthly Subscription",amount:99.99,suggestedCategory:"Software",status:"pending",aiConfidence:72},{id:"3",date:"2024-01-20",description:"Payment - Unclear Transaction",amount:450,status:"pending",aiConfidence:45},{id:"4",date:"2024-01-22",description:"Refund from Client ABC",amount:-500,suggestedCategory:"Refunds",status:"reviewed",clientComment:"This is a refund for overpayment",aiConfidence:80}],b=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),_=()=>{const[r,u]=i.useState(O),[o,w]=i.useState(""),[x,C]=i.useState("all"),[t,c]=i.useState(null),[h,l]=i.useState(""),[g,n]=i.useState(""),v=r.filter(s=>{const a=s.description.toLowerCase().includes(o.toLowerCase())||s.suggestedCategory?.toLowerCase().includes(o.toLowerCase()),d=x==="all"||s.status===x;return a&&d}),S=r.filter(s=>s.status==="pending").length,T=r.filter(s=>s.status==="reviewed").length,F=s=>{c(s),l(s.clientComment||""),n(s.suggestedCategory||"")},R=()=>{if(!t)return;const s=r.map(a=>a.id===t.id?{...a,status:"reviewed",clientComment:h,suggestedCategory:g||a.suggestedCategory}:a);u(s),c(null),l(""),n("")},k=s=>{const a=r.map(d=>d.id===s?{...d,status:"approved"}:d);u(a)},A=s=>{switch(s){case"approved":return e.jsx(p,{className:"w-4 h-4 text-green-600"});case"reviewed":return e.jsx(f,{className:"w-4 h-4 text-blue-600"});case"pending":return e.jsx(j,{className:"w-4 h-4 text-orange-600"})}},D=s=>{switch(s){case"approved":return"bg-green-100 text-green-700";case"reviewed":return"bg-blue-100 text-blue-700";case"pending":return"bg-orange-100 text-orange-700"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary",children:"Client Review"}),e.jsx("p",{className:"text-sm text-primary-50 mt-1",children:"Review and categorize transactions that need your input"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-primary-50",children:"Pending Review"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:S})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-primary-50",children:"Reviewed"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:T})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-primary-50",children:"Total Transactions"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:r.length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative",children:e.jsx(N,{id:"search-transactions",placeholder:"Search transactions...",value:o,onChange:s=>w(s.target.value),icon:e.jsx(I,{})})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"text-primary-50"}),e.jsxs("select",{value:x,onChange:s=>C(s.target.value),className:"px-4 py-2 border border-primary-10 rounded-xl text-sm text-primary focus:outline-none focus:border-primary",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"reviewed",children:"Reviewed"}),e.jsx("option",{value:"approved",children:"Approved"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-primary-10 overflow-hidden",children:e.jsx("div",{className:"divide-y divide-primary-10",children:v.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-primary-50",children:"No transactions found"}):v.map(s=>e.jsx("div",{className:"p-4 hover:bg-primary-5 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A(s.status),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-primary",children:s.description}),e.jsx("div",{className:"text-sm text-primary-50 mt-1",children:new Date(s.date).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-semibold ${s.amount<0?"text-red-600":"text-green-600"}`,children:b.format(s.amount)}),s.aiConfidence&&e.jsxs("div",{className:"text-xs text-primary-50",children:["AI Confidence:"," ",s.aiConfidence,"%"]})]})]}),s.suggestedCategory&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-10 text-primary rounded-full text-xs font-medium",children:["Suggested:"," ",s.suggestedCategory]})}),s.clientComment&&e.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(y,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("div",{className:"text-sm text-blue-800",children:s.clientComment})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${D(s.status)}`,children:s.status}),s.status==="pending"&&e.jsxs(m,{onClick:()=>F(s),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx(y,{}),"Review"]}),s.status==="reviewed"&&e.jsxs(m,{onClick:()=>k(s.id),variant:"primary",size:"sm",className:"flex items-center gap-1",children:[e.jsx(p,{}),"Approve"]})]})]})},s.id))})}),t&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-primary",children:"Review Transaction"}),e.jsx("button",{onClick:()=>{c(null),l(""),n("")},className:"text-primary-50 hover:text-primary",children:e.jsx(E,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-primary-10 rounded-xl",children:[e.jsx("div",{className:"text-sm text-primary-50 mb-1",children:"Transaction Details"}),e.jsx("div",{className:"font-medium text-primary",children:t.description}),e.jsxs("div",{className:"text-sm text-primary-75 mt-2",children:["Date:"," ",new Date(t.date).toLocaleDateString()]}),e.jsxs("div",{className:"text-sm text-primary-75",children:["Amount:"," ",b.format(t.amount)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Category"}),e.jsx(N,{id:"category",placeholder:"Enter or select category",value:g,onChange:s=>n(s.target.value)}),t.suggestedCategory&&e.jsxs("p",{className:"text-xs text-primary-50 mt-1",children:["AI Suggested:"," ",t.suggestedCategory]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Your Comment"}),e.jsx(B,{id:"comment",placeholder:"Add any notes or comments about this transaction...",value:h,onChange:s=>l(s.target.value),rows:4})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(m,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{c(null),l(""),n("")},children:"Cancel"}),e.jsxs(m,{onClick:R,variant:"primary",className:"flex-1 flex items-center justify-center gap-2",children:[e.jsx(z,{}),"Save Review"]})]})]})]})})]})};export{_ as default};
